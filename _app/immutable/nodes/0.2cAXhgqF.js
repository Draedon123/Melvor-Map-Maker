var st=Object.defineProperty;var it=(r,e,s)=>e in r?st(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var K=(r,e,s)=>it(r,typeof e!="symbol"?e+"":e,s);import{a as D,c as F,u as H,g as R,b as W,j as ot,o as nt,A as at,d as rt,n as U,r as lt}from"../chunks/scheduler.CEYuN9sw.js";import{S as z,i as q,e as y,a as w,b as j,g as v,h as b,j as k,t as L,l as T,s as E,c as M,A as ft,q as P,f as N,d as A,k as C,m as I,n as S,o as Y,p as J,C as Q,E as X,r as x}from"../chunks/index.C0VDjlZ-.js";import{b as O}from"../chunks/paths.dFhn3uZf.js";import{s as Z,P as ct}from"../chunks/Project.BYvFdypX.js";import{D as ut}from"../chunks/Dialog.Cj81w0u7.js";import{c as dt,g as pt}from"../chunks/_commonjsHelpers.Cpj98o6Y.js";const ht="0.12.0";var et={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(r){(function(e,s){r.exports?r.exports=s():e.Toastify=s()})(dt,function(e){var s=function(t){return new s.lib.init(t)},a="1.12.0";s.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},s.lib=s.prototype={toastify:a,constructor:s,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||s.defaults.text,this.options.node=t.node||s.defaults.node,this.options.duration=t.duration===0?0:t.duration||s.defaults.duration,this.options.selector=t.selector||s.defaults.selector,this.options.callback=t.callback||s.defaults.callback,this.options.destination=t.destination||s.defaults.destination,this.options.newWindow=t.newWindow||s.defaults.newWindow,this.options.close=t.close||s.defaults.close,this.options.gravity=t.gravity==="bottom"?"toastify-bottom":s.defaults.gravity,this.options.positionLeft=t.positionLeft||s.defaults.positionLeft,this.options.position=t.position||s.defaults.position,this.options.backgroundColor=t.backgroundColor||s.defaults.backgroundColor,this.options.avatar=t.avatar||s.defaults.avatar,this.options.className=t.className||s.defaults.className,this.options.stopOnFocus=t.stopOnFocus===void 0?s.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||s.defaults.onClick,this.options.offset=t.offset||s.defaults.offset,this.options.escapeMarkup=t.escapeMarkup!==void 0?t.escapeMarkup:s.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||s.defaults.ariaLive,this.options.style=t.style||s.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var i in this.options.style)t.style[i]=this.options.style[i];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,this.options.avatar!==""){var d=document.createElement("img");d.src=this.options.avatar,d.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?t.appendChild(d):t.insertAdjacentElement("afterbegin",d)}if(this.options.close===!0){var f=document.createElement("button");f.type="button",f.setAttribute("aria-label","Close"),f.className="toast-close",f.innerHTML="&#10006;",f.addEventListener("click",(function(g){g.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var c=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&c>360?t.insertAdjacentElement("afterbegin",f):t.appendChild(f)}if(this.options.stopOnFocus&&this.options.duration>0){var h=this;t.addEventListener("mouseover",function(g){window.clearTimeout(t.timeOutValue)}),t.addEventListener("mouseleave",function(){t.timeOutValue=window.setTimeout(function(){h.removeElement(t)},h.options.duration)})}if(typeof this.options.destination<"u"&&t.addEventListener("click",(function(g){g.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&t.addEventListener("click",(function(g){g.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var p=n("x",this.options),u=n("y",this.options),l=this.options.position=="left"?p:"-"+p,m=this.options.gravity=="toastify-top"?u:"-"+u;t.style.transform="translate("+l+","+m+")"}return t},showToast:function(){this.toastElement=this.buildToast();var t;if(typeof this.options.selector=="string"?t=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?t=this.options.selector:t=document.body,!t)throw"Root element is not defined";var i=s.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,i),s.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),s.reposition()}).bind(this),400)}},s.reposition=function(){for(var t={top:15,bottom:15},i={top:15,bottom:15},d={top:15,bottom:15},f=document.getElementsByClassName("toastify"),c,h=0;h<f.length;h++){o(f[h],"toastify-top")===!0?c="toastify-top":c="toastify-bottom";var p=f[h].offsetHeight;c=c.substr(9,c.length-1);var u=15,l=window.innerWidth>0?window.innerWidth:screen.width;l<=360?(f[h].style[c]=d[c]+"px",d[c]+=p+u):o(f[h],"toastify-left")===!0?(f[h].style[c]=t[c]+"px",t[c]+=p+u):(f[h].style[c]=i[c]+"px",i[c]+=p+u)}return this};function n(t,i){return i.offset[t]?isNaN(i.offset[t])?i.offset[t]:i.offset[t]+"px":"0px"}function o(t,i){return!t||typeof i!="string"?!1:!!(t.className&&t.className.trim().split(/\s+/gi).indexOf(i)>-1)}return s.lib.init.prototype=s.lib,s})})(et);var mt=et.exports;const vt=pt(mt);function $t(r){let e,s;const a=r[1].default,n=F(a,r,r[0],null);return{c(){e=y("nav"),n&&n.c(),this.h()},l(o){e=w(o,"NAV",{class:!0});var t=j(e);n&&n.l(t),t.forEach(v),this.h()},h(){b(e,"class","navigation svelte-1rqxcii")},m(o,t){k(o,e,t),n&&n.m(e,null),s=!0},p(o,[t]){n&&n.p&&(!s||t&1)&&H(n,a,o,o[0],s?W(a,o[0],t,null):R(o[0]),null)},i(o){s||(L(n,o),s=!0)},o(o){T(n,o),s=!1},d(o){o&&v(e),n&&n.d(o)}}}function bt(r,e,s){let{$$slots:a={},$$scope:n}=e;return r.$$set=o=>{"$$scope"in o&&s(0,n=o.$$scope)},[n,a]}class gt extends z{constructor(e){super(),q(this,e,bt,$t,D,{})}}class tt{constructor(e,...s){K(this,"keys");this.callback=e,this.keys=new Set(s),this.registerEventListener()}registerEventListener(){return document.addEventListener("keydown",e=>{for(const s of this.keys)if((!s.modifiers.includes("CTRL")||s.modifiers.includes("CTRL")&&e.ctrlKey)&&(!s.modifiers.includes("SHIFT")||s.modifiers.includes("SHIFT")&&e.shiftKey)&&e.key===s.key){this.callback(e);return}}),this}unregisterEventListener(){return document.removeEventListener("keypress",this.callback),this}}function _t(r){let e,s;const a=r[1].default,n=F(a,r,r[0],null);return{c(){e=y("div"),n&&n.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var t=j(e);n&&n.l(t),t.forEach(v),this.h()},h(){b(e,"class","navigation-bar-item svelte-fabal3")},m(o,t){k(o,e,t),n&&n.m(e,null),s=!0},p(o,[t]){n&&n.p&&(!s||t&1)&&H(n,a,o,o[0],s?W(a,o[0],t,null):R(o[0]),null)},i(o){s||(L(n,o),s=!0)},o(o){T(n,o),s=!1},d(o){o&&v(e),n&&n.d(o)}}}function yt(r,e,s){let{$$slots:a={},$$scope:n}=e;return r.$$set=o=>{"$$scope"in o&&s(0,n=o.$$scope)},[n,a]}class B extends z{constructor(e){super(),q(this,e,yt,_t,D,{})}}function wt(r){let e,s=`<input type="image" src="${O}/favicon.ico" alt="A yellow compass" class="navigation-bar-icon navigation-bar-item svelte-hn31r"/>`;return{c(){e=y("a"),e.innerHTML=s,this.h()},l(a){e=w(a,"A",{href:!0,"data-svelte-h":!0}),P(e)!=="svelte-1761lk3"&&(e.innerHTML=s),this.h()},h(){b(e,"href",O+"/")},m(a,n){k(a,e,n)},p:U,d(a){a&&v(e)}}}function kt(r){let e,s=`<a href="${O}/File%20Generator" class="svelte-hn31r">File Generator</a>`;return{c(){e=y("div"),e.innerHTML=s,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-w7ygnr"&&(e.innerHTML=s),this.h()},h(){b(e,"class","navigation-bar-item svelte-hn31r")},m(a,n){k(a,e,n)},p:U,d(a){a&&v(e)}}}function Ct(r){let e,s=`<a href="${O}/Map%20Builder" class="svelte-hn31r">Map Builder</a>`;return{c(){e=y("div"),e.innerHTML=s,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1bkw1ez"&&(e.innerHTML=s),this.h()},h(){b(e,"class","navigation-bar-item svelte-hn31r")},m(a,n){k(a,e,n)},p:U,d(a){a&&v(e)}}}function Lt(r){let e,s,a,n,o,t;return e=new B({props:{$$slots:{default:[wt]},$$scope:{ctx:r}}}),a=new B({props:{$$slots:{default:[kt]},$$scope:{ctx:r}}}),o=new B({props:{$$slots:{default:[Ct]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),s=E(),M(a.$$.fragment),n=E(),M(o.$$.fragment)},l(i){A(e.$$.fragment,i),s=N(i),A(a.$$.fragment,i),n=N(i),A(o.$$.fragment,i)},m(i,d){I(e,i,d),k(i,s,d),I(a,i,d),k(i,n,d),I(o,i,d),t=!0},p(i,d){const f={};d&128&&(f.$$scope={dirty:d,ctx:i}),e.$set(f);const c={};d&128&&(c.$$scope={dirty:d,ctx:i}),a.$set(c);const h={};d&128&&(h.$$scope={dirty:d,ctx:i}),o.$set(h)},i(i){t||(L(e.$$.fragment,i),L(a.$$.fragment,i),L(o.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),T(a.$$.fragment,i),T(o.$$.fragment,i),t=!1},d(i){i&&(v(s),v(n)),S(e,i),S(a,i),S(o,i)}}}function Tt(r){let e,s,a="Create New Project",n,o,t,i,d,f,c,h,p,u,l="Close",m,g;return{c(){e=y("div"),s=y("h1"),s.textContent=a,n=E(),o=y("label"),t=Y("Project Name: "),i=y("input"),d=E(),f=y("button"),c=Y("Create Project"),p=E(),u=y("button"),u.textContent=l,this.h()},l($){e=w($,"DIV",{class:!0});var _=j(e);s=w(_,"H1",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-az8qyb"&&(s.textContent=a),n=N(_),o=w(_,"LABEL",{for:!0,class:!0});var V=j(o);t=J(V,"Project Name: "),i=w(V,"INPUT",{name:!0,id:!0,placeholder:!0,class:!0}),V.forEach(v),d=N(_),f=w(_,"BUTTON",{class:!0});var G=j(f);c=J(G,"Create Project"),G.forEach(v),p=N(_),u=w(_,"BUTTON",{class:!0,"data-svelte-h":!0}),P(u)!=="svelte-1sp3i0v"&&(u.textContent=l),_.forEach(v),this.h()},h(){b(s,"class","svelte-hn31r"),b(i,"name","projectName"),b(i,"id","projectName"),b(i,"placeholder","Unnamed Project"),b(i,"class","svelte-hn31r"),Q(i,"invalid",r[1]===""),b(o,"for","projectName"),b(o,"class","svelte-hn31r"),f.disabled=h=r[1]==="",b(f,"class","create-project svelte-hn31r"),b(u,"class","svelte-hn31r"),b(e,"class","modal-container svelte-hn31r")},m($,_){k($,e,_),C(e,s),C(e,n),C(e,o),C(o,t),C(o,i),X(i,r[1]),C(e,d),C(e,f),C(f,c),C(e,p),C(e,u),m||(g=[x(i,"input",r[4]),x(f,"click",r[2]),x(u,"click",r[5])],m=!0)},p($,_){_&2&&i.value!==$[1]&&X(i,$[1]),_&2&&Q(i,"invalid",$[1]===""),_&2&&h!==(h=$[1]==="")&&(f.disabled=h)},d($){$&&v(e),m=!1,lt(g)}}}function Et(r){let e,s=`body {
      margin: 0;
    }`,a,n,o,t,i,d,f,c;o=new gt({props:{$$slots:{default:[Lt]},$$scope:{ctx:r}}});let h={showDefaultCloseButton:!1,$$slots:{default:[Tt]},$$scope:{ctx:r}};i=new ut({props:h}),r[6](i);const p=r[3].default,u=F(p,r,r[7],null);return{c(){e=y("style"),e.textContent=s,a=E(),n=y("aside"),M(o.$$.fragment),t=E(),M(i.$$.fragment),d=E(),f=y("main"),u&&u.c(),this.h()},l(l){const m=ft("svelte-1ldn4bc",document.head);e=w(m,"STYLE",{"data-svelte-h":!0}),P(e)!=="svelte-cd5wzt"&&(e.textContent=s),m.forEach(v),a=N(l),n=w(l,"ASIDE",{});var g=j(n);A(o.$$.fragment,g),g.forEach(v),t=N(l),A(i.$$.fragment,l),d=N(l),f=w(l,"MAIN",{class:!0});var $=j(f);u&&u.l($),$.forEach(v),this.h()},h(){b(f,"class","svelte-hn31r")},m(l,m){C(document.head,e),k(l,a,m),k(l,n,m),I(o,n,null),k(l,t,m),I(i,l,m),k(l,d,m),k(l,f,m),u&&u.m(f,null),c=!0},p(l,[m]){const g={};m&128&&(g.$$scope={dirty:m,ctx:l}),o.$set(g);const $={};m&131&&($.$$scope={dirty:m,ctx:l}),i.$set($),u&&u.p&&(!c||m&128)&&H(u,p,l,l[7],c?W(p,l[7],m,null):R(l[7]),null)},i(l){c||(L(o.$$.fragment,l),L(i.$$.fragment,l),L(u,l),c=!0)},o(l){T(o.$$.fragment,l),T(i.$$.fragment,l),T(u,l),c=!1},d(l){l&&(v(a),v(n),v(t),v(d),v(f)),v(e),S(o),r[6](null),S(i,l),u&&u.d(l)}}}function Nt(r,e,s){let a;ot(r,Z,p=>s(8,a=p));let{$$slots:n={},$$scope:o}=e;console.clear(),console.log(`App Version: ${ht}`);let t,i="Unnamed Project";async function d(){const p=new ct({name:i});await p.save(),at(Z,a.activeProject=p,a),t.close()}nt(()=>{navigator.serviceWorker.register(`${O}/service-worker.js`,{type:"classic",scope:`${O}/`}),new tt(async p=>{var u,l;if(p.preventDefault(),a.activeProject===null){t.open();return}await((u=a.activeProject)==null?void 0:u.save()),vt({duration:3e3,text:`Project ${(l=a.activeProject)==null?void 0:l.name} saved`,close:!0,gravity:"bottom",position:"center"}).showToast()},{key:"s",modifiers:["CTRL"]}),new tt(p=>{p.preventDefault(),s(1,i="Unnamed Project"),t.open()},{key:"k",modifiers:["CTRL"]})});function f(){i=this.value,s(1,i)}const c=()=>t.close();function h(p){rt[p?"unshift":"push"](()=>{t=p,s(0,t)})}return r.$$set=p=>{"$$scope"in p&&s(7,o=p.$$scope)},[t,i,d,n,f,c,h,o]}class Vt extends z{constructor(e){super(),q(this,e,Nt,Et,D,{})}}export{Vt as component};
