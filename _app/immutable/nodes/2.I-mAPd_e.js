import{s as M,c as z,b as U,u as F,g as J,d as K,r as Q,e as B}from"../chunks/scheduler.BJVLQhVu.js";import{S as W,i as X,e as v,s as P,c as g,b as D,f as E,g as G,d as C,h as t,a as Y,j as a,l as H,t as Z,k as $}from"../chunks/index.CCiX5o_Y.js";import{s as ee,r as te}from"../chunks/store.DtIYNxMZ.js";function se(i){let l,c,_,n,m,b,u,R="Preview Image",k,o,d,I,e,j,x,p,q="Close",A,w,h,L,N;const O=i[6].default,r=z(O,i,i[5],null);return{c(){l=v("div"),c=v("aside"),_=v("div"),n=v("input"),b=P(),u=v("span"),u.textContent=R,k=P(),o=v("dialog"),d=v("img"),e=P(),j=v("br"),x=P(),p=v("button"),p.textContent=q,A=P(),w=v("div"),r&&r.c(),this.h()},l(s){l=g(s,"DIV",{class:!0});var f=D(l);c=g(f,"ASIDE",{class:!0});var T=D(c);_=g(T,"DIV",{class:!0});var S=D(_);n=g(S,"INPUT",{type:!0,src:!0,alt:!0,title:!0,class:!0}),b=E(S),u=g(S,"SPAN",{class:!0,"data-svelte-h":!0}),G(u)!=="svelte-1o5jq1t"&&(u.textContent=R),S.forEach(C),T.forEach(C),k=E(f),o=g(f,"DIALOG",{class:!0});var y=D(o);d=g(y,"IMG",{src:!0,alt:!0,class:!0}),e=E(y),j=g(y,"BR",{class:!0}),x=E(y),p=g(y,"BUTTON",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-1f187om"&&(p.textContent=q),y.forEach(C),A=E(f),w=g(f,"DIV",{class:!0});var V=D(w);r&&r.l(V),V.forEach(C),f.forEach(C),this.h()},h(){t(n,"type","image"),U(n.src,m="/preview.png")||t(n,"src",m),t(n,"alt","A document and magnifying glass"),t(n,"title","Preview Image"),t(n,"class","svelte-1j56lxb"),t(u,"class","svelte-1j56lxb"),t(_,"class","svelte-1j56lxb"),t(c,"class","toolbar svelte-1j56lxb"),U(d.src,I=i[2])||t(d,"src",I),t(d,"alt","Preview"),t(d,"class","svelte-1j56lxb"),t(j,"class","svelte-1j56lxb"),t(p,"class","svelte-1j56lxb"),t(o,"class","modal svelte-1j56lxb"),t(w,"class","main svelte-1j56lxb"),t(l,"class","container svelte-1j56lxb")},m(s,f){Y(s,l,f),a(l,c),a(c,_),a(_,n),a(_,b),a(_,u),a(l,k),a(l,o),a(o,d),i[7](d),a(o,e),a(o,j),a(o,x),a(o,p),i[8](o),a(l,A),a(l,w),r&&r.m(w,null),h=!0,L||(N=[H(n,"click",i[3]),H(p,"click",i[4])],L=!0)},p(s,[f]){(!h||f&4&&!U(d.src,I=s[2]))&&t(d,"src",I),r&&r.p&&(!h||f&32)&&F(r,O,s,s[5],h?K(O,s[5],f,null):J(s[5]),null)},i(s){h||(Z(r,s),h=!0)},o(s){$(r,s),h=!1},d(s){s&&C(l),i[7](null),i[8](null),r&&r.d(s),L=!1,Q(N)}}}function le(i,l,c){let{$$slots:_={},$$scope:n}=l,m,b,u="/black.png";function R(){m.open?m.close():m.showModal()}async function k(e){if(URL.revokeObjectURL(u),e===null){c(2,u="/black.png");return}const j=document.body.offsetHeight*.75*devicePixelRatio,x=document.body.offsetHeight*.75*devicePixelRatio,p=await te(e,{type:"to",x:j,y:x},"url");c(2,u=p)}function o(){m.close()}ee.subscribe(e=>{k(e.mapImage)});function d(e){B[e?"unshift":"push"](()=>{b=e,c(1,b)})}function I(e){B[e?"unshift":"push"](()=>{m=e,c(0,m)})}return i.$$set=e=>{"$$scope"in e&&c(5,n=e.$$scope)},[m,b,u,R,o,n,_,d,I]}class oe extends W{constructor(l){super(),X(this,l,le,se,M,{})}}export{oe as component};
