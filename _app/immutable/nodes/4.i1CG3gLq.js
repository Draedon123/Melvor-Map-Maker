import{a as w,n as d,o as H,e as R}from"../chunks/scheduler.DahwKfaf.js";import{S as U,i as _,s as p,e as m,u as v,h as r,f,a as g,g as C,j as $,k as l}from"../chunks/index.C-CCz6-d.js";import{b as I}from"../chunks/paths.Be8sZeBA.js";class u{constructor(t="",e=!0){this.hash=t,this.autoUpdateWindowHash=e}static fromWindow(t=!0){return new u(window.location.hash.slice(1),t)}updateWindowHash(){return window.location.hash=this.hash===""?"":`#${this.hash}`,this.hash}get(t){return this.getAllHashes()[t]??null}set(t,e){const n=this.getHashString(t,e);return this.contains(t)?this.hash=this.hash.replace(new RegExp(`(${encodeURIComponent(t)}=.+?,)|(${encodeURIComponent(t)}=.+?$)`),`${n},`):(this.hash!==""&&(this.hash+=","),this.hash+=`${n}`),this.removeLeadingAndTrailingCommas(),this.autoUpdateWindowHash&&this.updateWindowHash(),this.hash}delete(t){if(!this.contains(t))return null;const e=this.get(t);return this.hash=this.hash.replace(new RegExp(`(${encodeURIComponent(t)}=.+?,)|(${encodeURIComponent(t)}=.+?$)`),",").replace(/,+/,","),this.removeLeadingAndTrailingCommas(),this.autoUpdateWindowHash&&this.updateWindowHash(),e}contains(t){return new RegExp(`(${encodeURIComponent(t)}=.+?,)|(${encodeURIComponent(t)}=.+?$)`).test(this.hash)}getAllHashes(){const t=this.hash.split(","),e={};for(const n of t){if(n==="")continue;const h=n.split("="),s=decodeURIComponent(h[0]),o=decodeURIComponent(h[1]);e[s]=o}return e}getHashString(t,e){return`${encodeURIComponent(t)}=${encodeURIComponent(e)}`}removeLeadingAndTrailingCommas(){var n,h,s,o;if(!this.hash.startsWith(",")&&!this.hash.endsWith(","))return this.hash;const t=((h=(n=this.hash.match(/^,+/))==null?void 0:n[0])==null?void 0:h.length)??0,e=-(((o=(s=this.hash.match(/,+$/))==null?void 0:s[0])==null?void 0:o.length)??-this.hash.length);return this.hash=this.hash.slice(t,e),this.hash}}function W(c){let t,e,n="M3",h,s,o="";return{c(){t=p(),e=m("h1"),e.textContent=n,h=p(),s=m("a"),s.innerHTML=o,this.h()},l(a){v("svelte-1bq5zbc",document.head).forEach(r),t=f(a),e=g(a,"H1",{"data-svelte-h":!0}),C(e)!=="svelte-1j5g960"&&(e.textContent=n),h=f(a),s=g(a,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(s)!=="svelte-20lnrp"&&(s.innerHTML=o),this.h()},h(){document.title="Melvor Map Maker",$(s,"href","/"),$(s,"class","svelte-k2loab")},m(a,i){l(a,t,i),l(a,e,i),l(a,h,i),l(a,s,i),c[1](s)},p:d,i:d,o:d,d(a){a&&(r(t),r(e),r(h),r(s)),c[1](null)}}}function M(c,t,e){let n;H(()=>{const o=u.fromWindow().get("route");o!==null&&(e(0,n.href=`${I}/${o}`,n),n.click())});function h(s){R[s?"unshift":"push"](()=>{n=s,e(0,n)})}return[n,h]}class L extends U{constructor(t){super(),_(this,t,M,W,w,{})}}export{L as component};
