import{t as ot}from"./scheduler.DahwKfaf.js";import{w as pe}from"./index.CzJSFR2O.js";import{a as st,b as P}from"./paths.B0YEtpEc.js";function it(e,t){return"/"===e||"ignore"===t?e:"never"===t?e.endsWith("/")?e.slice(0,-1):e:"always"!==t||e.endsWith("/")?e:e+"/"}function ct(e){return e.split("%25").map(decodeURI).join("%25")}function lt(e){for(const t in e)e[t]=decodeURIComponent(e[t]);return e}function ce({href:e}){return e.split("#")[0]}new URL("sveltekit-internal://");const ft=["href","pathname","search","toString","toJSON"];function ut(e,t,r){const n=new URL(e);Object.defineProperty(n,"searchParams",{value:new Proxy(n.searchParams,{get(e,n){if("get"===n||"getAll"===n||"has"===n)return t=>(r(t),e[n](t));t();const o=Reflect.get(e,n);return"function"==typeof o?o.bind(e):o}}),enumerable:1,configurable:1});for(const r of ft)Object.defineProperty(n,r,{get:()=>(t(),e[r]),enumerable:1,configurable:1});return n}const dt="/__data.json",ht=".html__data.json";function pt(e){return e.endsWith(".html")?e.replace(/\.html$/,ht):e.replace(/\/$/,"")+dt}function gt(...e){let t=5381;for(const r of e)if("string"==typeof r){let e=r.length;for(;e;)t=33*t^r.charCodeAt(--e)}else{if(!ArrayBuffer.isView(r))throw new TypeError("value must be a string or TypedArray");{const e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);let n=e.length;for(;n;)t=33*t^e[--n]}}return(t>>>0).toString(36)}function mt(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}const je=window.fetch;window.fetch=(e,t)=>("GET"!==(e instanceof Request?e.method:(null==t?void 0:t.method)||"GET")&&q.delete(ge(e)),je(e,t));const q=new Map;function _t(e,t){const r=ge(e,t),n=document.querySelector(r);if(null!=n&&n.textContent){let{body:e,...t}=JSON.parse(n.textContent);const o=n.getAttribute("data-ttl");return o&&q.set(r,{body:e,init:t,ttl:1e3*Number(o)}),null!==n.getAttribute("data-b64")&&(e=mt(e)),Promise.resolve(new Response(e,t))}return window.fetch(e,t)}function yt(e,t,r){if(q.size>0){const t=ge(e,r),n=q.get(t);if(n){if(performance.now()<n.ttl&&["default","force-cache","only-if-cached",void 0].includes(null==r?void 0:r.cache))return new Response(n.body,n.init);q.delete(t)}}return window.fetch(t,r)}function ge(e,t){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(null!=t&&t.headers||null!=t&&t.body){const e=[];t.headers&&e.push([...new Headers(t.headers)].join(",")),t.body&&("string"==typeof t.body||ArrayBuffer.isView(t.body))&&e.push(t.body),r+=`[data-hash="${gt(...e)}"]`}return r}const wt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function vt(e){const t=[];return{pattern:"/"===e?/^\/$/:RegExp(`^${Et(e).map((e=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(e);if(r)return t.push({name:r[1],matcher:r[2],optional:0,rest:1,chained:1}),"(?:/(.*))?";const n=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(e);if(n)return t.push({name:n[1],matcher:n[2],optional:1,rest:0,chained:1}),"(?:/([^/]+))?";if(!e)return;const o=e.split(/\[(.+?)\](?!\])/);return"/"+o.map(((e,r)=>{if(r%2){if(e.startsWith("x+"))return le(String.fromCharCode(parseInt(e.slice(2),16)));if(e.startsWith("u+"))return le(String.fromCharCode(...e.slice(2).split("-").map((e=>parseInt(e,16)))));const n=wt.exec(e),[,a,s,l,i]=n;return t.push({name:l,matcher:i,optional:!!a,rest:!!s,chained:s?1===r&&""===o[0]:0}),s?"(.*?)":a?"([^/]*)?":"([^/]+?)"}return le(e)})).join("")})).join("")}/?$`),params:t}}function bt(e){return!/^\([^)]+\)$/.test(e)}function Et(e){return e.slice(1).split("/").filter(bt)}function kt(e,t,r){const n={},o=e.slice(1),a=o.filter((e=>void 0!==e));let s=0;for(let e=0;e<t.length;e+=1){const l=t[e];let i=o[e-s];if(l.chained&&l.rest&&s&&(i=o.slice(e-s,e+1).filter((e=>e)).join("/"),s=0),void 0!==i)if(l.matcher&&!r[l.matcher](i)){if(!l.optional||!l.chained)return;s++}else{n[l.name]=i;const r=t[e+1],u=o[e+1];r&&!r.rest&&r.optional&&u&&l.chained&&(s=0),!r&&!u&&Object.keys(n).length===a.length&&(s=0)}else l.rest&&(n[l.name]="")}if(!s)return n}function le(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function St({nodes:e,server_loads:t,dictionary:r,matchers:n}){const o=new Set(t);return Object.entries(r).map((([t,[r,o,l]])=>{const{pattern:i,params:u}=vt(t),c={id:t,exec:e=>{const t=i.exec(e);if(t)return kt(t,u,n)},errors:[1,...l||[]].map((t=>e[t])),layouts:[0,...o||[]].map(s),leaf:a(r)};return c.errors.length=c.layouts.length=Math.max(c.errors.length,c.layouts.length),c}));function a(t){const r=t<0;return r&&(t=~t),[r,e[t]]}function s(t){return void 0===t?t:[o.has(t),e[t]]}}function De(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function Ie(e,t,r=JSON.stringify){const n=r(t);try{sessionStorage[e]=n}catch{}}const At="1722250636557",$e="sveltekit:snapshot",Ce="sveltekit:scroll",Ve="sveltekit:states",Rt="sveltekit:pageurl",D="sveltekit:history",M="sveltekit:navigation",J={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},K=location.origin;function Fe(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){const e=document.getElementsByTagName("base");t=e.length?e[0].href:document.URL}return new URL(e,t)}function me(){return{x:pageXOffset,y:pageYOffset}}function O(e,t){return e.getAttribute("data-sveltekit-"+t)}const Le={...J,"":J.hover};function qe(e){let t=e.assignedSlot??e.parentNode;return 11===(null==t?void 0:t.nodeType)&&(t=t.host),t}function Ge(e,t){for(;e&&e!==t;){if("A"===e.nodeName.toUpperCase()&&e.hasAttribute("href"))return e;e=qe(e)}}function ue(e,t){let r;try{r=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI)}catch{}const n=e instanceof SVGAElement?e.target.baseVal:e.target;return{url:r,external:!r||!!n||ne(r,t)||(e.getAttribute("rel")||"").split(/\s+/).includes("external"),target:n,download:(null==r?void 0:r.origin)===K&&e.hasAttribute("download")}}function W(e){let t=null,r=null,n=null,o=null,a=null,s=null,l=e;for(;l&&l!==document.documentElement;)null===n&&(n=O(l,"preload-code")),null===o&&(o=O(l,"preload-data")),null===t&&(t=O(l,"keepfocus")),null===r&&(r=O(l,"noscroll")),null===a&&(a=O(l,"reload")),null===s&&(s=O(l,"replacestate")),l=qe(l);function i(e){switch(e){case"":case"true":return 1;case"off":case"false":return 0;default:return}}return{preload_code:Le[n??"off"],preload_data:Le[o??"off"],keepfocus:i(t),noscroll:i(r),reload:i(a),replace_state:i(s)}}function Pe(e){const t=pe(e);let r=1;return{notify:function(){r=1,t.update((e=>e))},set:function(e){r=0,t.set(e)},subscribe:function(e){let n;return t.subscribe((t=>{(void 0===n||r&&t!==n)&&e(n=t)}))}}}function It(){const{set:e,subscribe:t}=pe(0);let r;return{subscribe:t,check:async function(){clearTimeout(r);try{const t=await fetch(st+"/_app/version.json",{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!t.ok)return 0;const n=(await t.json()).version!==At;return n&&(e(1),clearTimeout(r)),n}catch{return 0}}}}function ne(e,t){return e.origin!==K||!e.pathname.startsWith(t)}const Lt=-1,Pt=-2,Tt=-3,Ut=-4,xt=-5,Nt=-6;function Ot(e,t){if("number"==typeof e)return o(e,1);if(!Array.isArray(e)||0===e.length)throw Error("Invalid input");const r=e,n=Array(r.length);function o(e,a=0){if(e===Lt)return;if(e===Tt)return NaN;if(e===Ut)return 1/0;if(e===xt)return-1/0;if(e===Nt)return-0;if(a)throw Error("Invalid input");if(e in n)return n[e];const s=r[e];if(s&&"object"==typeof s)if(Array.isArray(s))if("string"==typeof s[0]){const r=s[0],a=null==t?void 0:t[r];if(a)return n[e]=a(o(s[1]));switch(r){case"Date":n[e]=new Date(s[1]);break;case"Set":const t=new Set;n[e]=t;for(let e=1;e<s.length;e+=1)t.add(o(s[e]));break;case"Map":const a=new Map;n[e]=a;for(let e=1;e<s.length;e+=2)a.set(o(s[e]),o(s[e+1]));break;case"RegExp":n[e]=RegExp(s[1],s[2]);break;case"Object":n[e]=Object(s[1]);break;case"BigInt":n[e]=BigInt(s[1]);break;case"null":const l=Object.create(null);n[e]=l;for(let e=1;e<s.length;e+=2)l[s[e]]=o(s[e+1]);break;default:throw Error("Unknown type "+r)}}else{const t=Array(s.length);n[e]=t;for(let e=0;e<s.length;e+=1){const r=s[e];r!==Pt&&(t[e]=o(r))}}else{const t={};n[e]=t;for(const e in s){const r=s[e];t[e]=o(r)}}else n[e]=s;return n[e]}return o(0)}const Me=new Set(["load","prerender","csr","ssr","trailingSlash","config"]),jt=new Set([...Me]);function Dt(e){return e.filter((e=>null!=e))}class ae{constructor(e,t){this.status=e,this.body="string"==typeof t?{message:t}:t||{message:"Error: "+e}}toString(){return JSON.stringify(this.body)}}class He{constructor(e,t){this.status=e,this.location=t}}class _e extends Error{constructor(e,t,r){super(r),this.status=e,this.text=t}}const $t="x-sveltekit-invalidated",Ct="x-sveltekit-trailing-slash";function z(e){return e instanceof ae||e instanceof _e?e.status:500}function Vt(e){return e instanceof _e?e.text:"Internal Error"}const N=De(Ce)??{},H=De($e)??{},U={url:Pe({}),page:Pe({}),navigating:pe(null),updated:It()};function ye(e){N[e]=me()}function Ft(e,t){let r=e+1;for(;N[r];)delete N[r],r+=1;for(r=t+1;H[r];)delete H[r],r+=1}function C(e){return location.href=e.href,new Promise((()=>{}))}function Te(){}let re,de,X,T,he,V;const Be=[],Z=[];let R=null;const Ke=[],qt=[];let be,S,L,I,ee,j=[],y={branch:[],error:null,url:null},we=0,Q=0,Ue=1,B=0,F=0,Ye=0,ve=0;const G=new Set;async function en(e,t,r){var n,o;document.URL!==location.href&&(location.href=location.href),V=e,re=St(e),T=document.documentElement,he=t,de=e.nodes[0],X=e.nodes[1],de(),X(),S=null==(n=history.state)?void 0:n[D],L=null==(o=history.state)?void 0:o[M],S||(S=L=Date.now(),history.replaceState({...history.state,[D]:S,[M]:L},""));const a=N[S];a&&(history.scrollRestoration="manual",scrollTo(a.x,a.y)),r?await Wt(he,r):Yt(location.href,{replaceState:1}),Jt()}function Gt(){Be.length=0,ve=0}function Je(e){Z.some((e=>null==e?void 0:e.snapshot))&&(H[e]=Z.map((e=>{var t;return null==(t=null==e?void 0:e.snapshot)?void 0:t.capture()})))}function We(e){var t;null==(t=H[e])||t.forEach(((e,t)=>{var r,n;null==(n=null==(r=Z[t])?void 0:r.snapshot)||n.restore(e)}))}function xe(){ye(S),Ie(Ce,N),Je(L),Ie($e,H)}async function ze(e,t,r,n){return Y({type:"goto",url:Fe(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:r,nav_token:n,accept:()=>{t.invalidateAll&&(ve=1)}})}async function Mt(e){if(e.id!==(null==R?void 0:R.id)){const t={};G.add(t),R={id:e.id,token:t,promise:Ze({...e,preload:t}).then((e=>(G.delete(t),"loaded"===e.type&&e.state.error&&(R=null),e)))}}return R.promise}async function fe(e){const t=re.find((t=>t.exec(Qe(e))));t&&await Promise.all([...t.layouts,t.leaf].map((e=>null==e?void 0:e[1]())))}function Xe(e,t,r){var n;y=e.state;const o=document.querySelector("style[data-sveltekit]");o&&o.remove(),I=e.props.page,be=new V.root({target:t,props:{...e.props,stores:U,components:Z},hydrate:r}),We(L);const a={from:null,to:{params:y.params,route:{id:(null==(n=y.route)?void 0:n.id)??null},url:new URL(location.href)},willUnload:0,type:"enter",complete:Promise.resolve()};j.forEach((e=>e(a))),Q=1}function te({url:e,params:t,branch:r,status:n,error:o,route:a,form:s}){let l="never";if(!P||e.pathname!==P&&e.pathname!==P+"/")for(const e of r)void 0!==(null==e?void 0:e.slash)&&(l=e.slash);else l="always";e.pathname=it(e.pathname,l),e.search=e.search;const i={type:"loaded",state:{url:e,params:t,branch:r,error:o,route:a},props:{constructors:Dt(r).map((e=>e.node.component)),page:I}};void 0!==s&&(i.props.form=s);let u={},c=!I,d=0;for(let e=0;e<Math.max(r.length,y.branch.length);e+=1){const t=r[e],n=y.branch[e];(null==t?void 0:t.data)!==(null==n?void 0:n.data)&&(c=1),t&&(u={...u,...t.data},c&&(i.props["data_"+d]=u),d+=1)}return(!y.url||e.href!==y.url.href||y.error!==o||void 0!==s&&s!==I.form||c)&&(i.props.page={error:o,params:t,route:{id:(null==a?void 0:a.id)??null},state:{},status:n,url:new URL(e),form:s??null,data:c?u:I.data}),i}async function Ee({loader:e,parent:t,url:r,params:n,route:o,server_data_node:a}){var s,l,i;let u=null,c=1;const d={dependencies:new Set,params:new Set,parent:0,route:0,url:0,search_params:new Set},f=await e();if(null!=(s=f.universal)&&s.load){let e=function(...e){for(const t of e){const{href:e}=new URL(t,r);d.dependencies.add(e)}};const s={route:new Proxy(o,{get:(e,t)=>(c&&(d.route=1),e[t])}),params:new Proxy(n,{get:(e,t)=>(c&&d.params.add(t),e[t])}),data:(null==a?void 0:a.data)??null,url:ut(r,(()=>{c&&(d.url=1)}),(e=>{c&&d.search_params.add(e)})),async fetch(t,n){let o;t instanceof Request?(o=t.url,n={body:"GET"===t.method||"HEAD"===t.method?void 0:await t.blob(),cache:t.cache,credentials:t.credentials,headers:t.headers,integrity:t.integrity,keepalive:t.keepalive,method:t.method,mode:t.mode,redirect:t.redirect,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:t.signal,...n}):o=t;const a=new URL(o,r);return c&&e(a.href),a.origin===r.origin&&(o=a.href.slice(r.origin.length)),Q?yt(o,a.href,n):_t(o,n)},setHeaders:()=>{},depends:e,parent:()=>(c&&(d.parent=1),t()),untrack(e){c=0;try{return e()}finally{c=1}}};u=await f.universal.load.call(null,s)??null}return{node:f,loader:e,server:a,universal:null!=(l=f.universal)&&l.load?{type:"data",data:u,uses:d}:null,data:u??(null==a?void 0:a.data)??null,slash:(null==(i=f.universal)?void 0:i.trailingSlash)??(null==a?void 0:a.slash)}}function Ne(e,t,r,n,o,a){if(ve)return 1;if(!o)return 0;if(o.parent&&e||o.route&&t||o.url&&r)return 1;for(const e of o.search_params)if(n.has(e))return 1;for(const e of o.params)if(a[e]!==y.params[e])return 1;for(const e of o.dependencies)if(Be.some((t=>t(new URL(e)))))return 1;return 0}function ke(e,t){return"data"===(null==e?void 0:e.type)?e:"skip"===(null==e?void 0:e.type)?t??null:null}function Ht(e,t){if(!e)return new Set(t.searchParams.keys());const r=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(const n of r){const o=e.searchParams.getAll(n),a=t.searchParams.getAll(n);o.every((e=>a.includes(e)))&&a.every((e=>o.includes(e)))&&r.delete(n)}return r}function Oe({error:e,url:t,route:r,params:n}){return{type:"loaded",state:{error:e,url:t,route:r,params:n,branch:[]},props:{page:I,constructors:[]}}}async function Ze({id:e,invalidating:t,url:r,params:n,route:o,preload:a}){if((null==R?void 0:R.id)===e)return G.delete(R.token),R.promise;const{errors:s,layouts:l,leaf:i}=o,u=[...l,i];s.forEach((e=>null==e?void 0:e().catch((()=>{})))),u.forEach((e=>null==e?void 0:e[1]().catch((()=>{}))));let c=null;const d=y.url?e!==y.url.pathname+y.url.search:0,f=y.route?o.id!==y.route.id:0,p=Ht(y.url,r);let h=0;const m=u.map(((e,t)=>{var r;const o=y.branch[t],a=!(null==e||!e[0])&&((null==o?void 0:o.loader)!==e[1]||Ne(h,f,d,p,null==(r=o.server)?void 0:r.uses,n));return a&&(h=1),a}));if(m.some(Boolean)){try{c=await nt(r,m)}catch(t){const s=await $(t,{url:r,params:n,route:{id:e}});return G.has(a)?Oe({error:s,url:r,params:n,route:o}):oe({status:z(t),error:s,url:r,route:o})}if("redirect"===c.type)return c}const v=null==c?void 0:c.nodes;let g=0;const w=u.map((async(e,t)=>{var a;if(!e)return;const s=y.branch[t],l=null==v?void 0:v[t];if(!(l&&"skip"!==l.type||e[1]!==(null==s?void 0:s.loader)||Ne(g,f,d,p,null==(a=s.universal)?void 0:a.uses,n)))return s;if(g=1,"error"===(null==l?void 0:l.type))throw l;return Ee({loader:e[1],url:r,params:n,route:o,parent:async()=>{var e;const r={};for(let n=0;n<t;n+=1)Object.assign(r,null==(e=await w[n])?void 0:e.data);return r},server_data_node:ke(void 0===l&&e[0]?{type:"skip"}:l??null,e[0]?null==s?void 0:s.server:void 0)})}));for(const e of w)e.catch((()=>{}));const b=[];for(let e=0;e<u.length;e+=1)if(u[e])try{b.push(await w[e])}catch(t){if(t instanceof He)return{type:"redirect",location:t.location};if(G.has(a))return Oe({error:await $(t,{params:n,url:r,route:{id:o.id}}),url:r,params:n,route:o});let l,i=z(t);if(null!=v&&v.includes(t))i=t.status??i,l=t.error;else if(t instanceof ae)l=t.body;else{if(await U.updated.check())return await C(r);l=await $(t,{params:n,url:r,route:{id:o.id}})}const u=await Bt(e,b,s);return u?te({url:r,params:n,branch:b.slice(0,u.idx).concat(u.node),status:i,error:l,route:o}):await tt(r,{id:o.id},l,i)}else b.push(void 0);return te({url:r,params:n,branch:b,status:200,error:null,route:o,form:t?void 0:null})}async function Bt(e,t,r){for(;e--;)if(r[e]){let n=e;for(;!t[n];)n-=1;try{return{idx:n+1,node:{node:await r[e](),loader:r[e],data:{},server:null,universal:null}}}catch{continue}}}async function oe({status:e,error:t,url:r,route:n}){const o={};let a=null;if(0===V.server_loads[0])try{const e=await nt(r,[1]);if("data"!==e.type||e.nodes[0]&&"data"!==e.nodes[0].type)throw 0;a=e.nodes[0]??null}catch{(r.origin!==K||r.pathname!==location.pathname||we)&&await C(r)}return te({url:r,params:o,branch:[await Ee({loader:de,url:r,params:o,route:n,parent:()=>Promise.resolve({}),server_data_node:ke(a)}),{node:await X(),loader:X,universal:null,server:null,data:null}],status:e,error:t,route:null})}function Se(e,t){if(!e||ne(e,P))return;let r;try{r=V.hooks.reroute({url:new URL(e)})??e.pathname}catch{return}const n=Qe(r);for(const r of re){const o=r.exec(n);if(o)return{id:e.pathname+e.search,invalidating:t,route:r,params:lt(o),url:e}}}function Qe(e){return ct(e.slice(P.length)||"/")}function et({url:e,type:t,intent:r,delta:n}){let o=0;const a=rt(y,r,e,t);void 0!==n&&(a.navigation.delta=n);const s={...a.navigation,cancel:()=>{o=1,a.reject(Error("navigation cancelled"))}};return B||Ke.forEach((e=>e(s))),o?null:a}async function Y({type:e,url:t,popped:r,keepfocus:n,noscroll:o,replace_state:a,state:s={},redirect_count:l=0,nav_token:i={},accept:u=Te,block:c=Te}){const d=Se(t,0),f=et({url:t,type:e,delta:null==r?void 0:r.delta,intent:d});if(!f)return void c();const p=S,h=L;u(),B=1,Q&&U.navigating.set(f.navigation),ee=i;let m=d&&await Ze(d);if(!m){if(ne(t,P))return await C(t);m=await tt(t,{id:null},await $(new _e(404,"Not Found","Not found: "+t.pathname),{url:t,params:{},route:{id:null}}),404)}if(t=(null==d?void 0:d.url)||t,ee!==i)return f.reject(Error("navigation aborted")),0;if("redirect"===m.type){if(!(l>=20))return ze(new URL(m.location,t).href,{},l+1,i),0;m=await oe({status:500,error:await $(Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else m.props.page.status>=400&&await U.updated.check()&&await C(t);if(Gt(),ye(p),Je(h),m.props.page.url.pathname!==t.pathname&&(t.pathname=m.props.page.url.pathname),s=r?r.state:s,!r){const e=a?0:1,r={[D]:S+=e,[M]:L+=e,[Ve]:s};(a?history.replaceState:history.pushState).call(history,r,"",t),a||Ft(S,L)}if(R=null,m.props.page.state=s,Q){y=m.state,m.props.page&&(m.props.page.url=t);const e=(await Promise.all(qt.map((e=>e(f.navigation))))).filter((e=>"function"==typeof e));if(e.length>0){let t=function(){j=j.filter((t=>!e.includes(t)))};e.push(t),j.push(...e)}be.$set(m.props),Ye=1}else Xe(m,he,0);const{activeElement:v}=document;await ot();const g=r?r.scroll:o?me():null;if(Ue){const e=t.hash&&document.getElementById(decodeURIComponent(t.hash.slice(1)));g?scrollTo(g.x,g.y):e?e.scrollIntoView():scrollTo(0,0)}const w=document.activeElement!==v&&document.activeElement!==document.body;!n&&!w&&zt(),Ue=1,m.props.page&&(I=m.props.page),B=0,"popstate"===e&&We(L),f.fulfil(void 0),j.forEach((e=>e(f.navigation))),U.navigating.set(null)}async function tt(e,t,r,n){return e.origin!==K||e.pathname!==location.pathname||we?await C(e):await oe({status:n,error:r,url:e,route:t})}function Kt(){let e;function t(e){n(e.composedPath()[0],1)}T.addEventListener("mousemove",(t=>{const r=t.target;clearTimeout(e),e=setTimeout((()=>{n(r,2)}),20)})),T.addEventListener("mousedown",t),T.addEventListener("touchstart",t,{passive:1});const r=new IntersectionObserver((e=>{for(const t of e)t.isIntersecting&&(fe(t.target.href),r.unobserve(t.target))}),{threshold:0});function n(e,t){const r=Ge(e,T);if(!r)return;const{url:n,external:o,download:a}=ue(r,P);if(o||a)return;const s=W(r);if(!s.reload)if(t<=s.preload_data){const e=Se(n,0);e&&Mt(e)}else t<=s.preload_code&&fe(n.pathname)}function o(){r.disconnect();for(const e of T.querySelectorAll("a")){const{url:t,external:n,download:o}=ue(e,P);if(n||o)continue;const a=W(e);a.reload||(a.preload_code===J.viewport&&r.observe(e),a.preload_code===J.eager&&fe(t.pathname))}}j.push(o),o()}function $(e,t){if(e instanceof ae)return e.body;const r=z(e),n=Vt(e);return V.hooks.handleError({error:e,event:t,status:r,message:n})??{message:n}}function Yt(e,t={}){return(e=Fe(e)).origin!==K?Promise.reject(Error("goto: invalid URL")):ze(e,t,0)}function Jt(){var e;history.scrollRestoration="manual",addEventListener("beforeunload",(e=>{let t=0;if(xe(),!B){const e=rt(y,void 0,null,"leave"),r={...e.navigation,cancel:()=>{t=1,e.reject(Error("navigation cancelled"))}};Ke.forEach((e=>e(r)))}t?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"})),addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&xe()})),null!=(e=navigator.connection)&&e.saveData||Kt(),T.addEventListener("click",(async e=>{var r;if(e.button||1!==e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.defaultPrevented)return;const n=Ge(e.composedPath()[0],T);if(!n)return;const{url:o,external:a,target:s,download:l}=ue(n,P);if(!o)return;if("_parent"===s||"_top"===s){if(window.parent!==window)return}else if(s&&"_self"!==s)return;const i=W(n);if(!(n instanceof SVGAElement)&&o.protocol!==location.protocol&&"https:"!==o.protocol&&"http:"!==o.protocol||l)return;if(a||i.reload)return void(et({url:o,type:"link"})?B=1:e.preventDefault());const[u,c]=o.href.split("#");if(void 0!==c&&u===ce(location)){const[,a]=y.url.href.split("#");if(a===c)return e.preventDefault(),void(""===c||"top"===c&&null===n.ownerDocument.getElementById("top")?window.scrollTo({top:0}):null==(r=n.ownerDocument.getElementById(c))||r.scrollIntoView());if(F=1,ye(S),t(o),!i.replace_state)return;F=0}e.preventDefault(),await new Promise((e=>{requestAnimationFrame((()=>{setTimeout(e,0)})),setTimeout(e,100)})),Y({type:"link",url:o,keepfocus:i.keepfocus,noscroll:i.noscroll,replace_state:i.replace_state??o.href===location.href})})),T.addEventListener("submit",(e=>{if(e.defaultPrevented)return;const t=HTMLFormElement.prototype.cloneNode.call(e.target),r=e.submitter;if("get"!==((null==r?void 0:r.formMethod)||t.method))return;const n=new URL((null==r?void 0:r.hasAttribute("formaction"))&&(null==r?void 0:r.formAction)||t.action);if(ne(n,P))return;const o=e.target,a=W(o);if(a.reload)return;e.preventDefault(),e.stopPropagation();const s=new FormData(o),l=null==r?void 0:r.getAttribute("name");l&&s.append(l,(null==r?void 0:r.getAttribute("value"))??""),n.search=new URLSearchParams(s).toString(),Y({type:"form",url:n,keepfocus:a.keepfocus,noscroll:a.noscroll,replace_state:a.replace_state??n.href===location.href})})),addEventListener("popstate",(async e=>{var r;if(null!=(r=e.state)&&r[D]){const r=e.state[D];if(ee={},r===S)return;const n=N[r],o=e.state[Ve]??{},a=new URL(e.state[Rt]??location.href),s=e.state[M],l=ce(location)===ce(y.url);if(s===L&&(Ye||l))return t(a),N[S]=me(),n&&scrollTo(n.x,n.y),o!==I.state&&(I={...I,state:o},be.$set({page:I})),void(S=r);const i=r-S;await Y({type:"popstate",url:a,popped:{state:o,scroll:n,delta:i},accept:()=>{S=r,L=s},block:()=>{history.go(-i)},nav_token:ee})}else F||t(new URL(location.href))})),addEventListener("hashchange",(()=>{F&&(F=0,history.replaceState({...history.state,[D]:++S,[M]:L},"",location.href))}));for(const e of document.querySelectorAll("link"))"icon"===e.rel&&(e.href=e.href);function t(e){y.url=e,U.page.set({...I,url:e}),U.page.notify()}addEventListener("pageshow",(e=>{e.persisted&&U.navigating.set(null)}))}async function Wt(e,{status:t=200,error:r,node_ids:n,params:o,route:a,data:s,form:l}){we=1;const i=new URL(location.href);let u;({params:o={},route:a={id:null}}=Se(i,0)||{});try{const e=n.map((async(t,r)=>{const n=s[r];return null!=n&&n.uses&&(n.uses=at(n.uses)),Ee({loader:V.nodes[t],url:i,params:o,route:a,parent:async()=>{const t={};for(let n=0;n<r;n+=1)Object.assign(t,(await e[n]).data);return t},server_data_node:ke(n)})})),c=await Promise.all(e),d=re.find((({id:e})=>e===a.id));if(d){const e=d.layouts;for(let t=0;t<e.length;t++)e[t]||c.splice(t,0,void 0)}u=te({url:i,params:o,branch:c,status:t,error:r,form:l,route:d??null})}catch(e){if(e instanceof He)return void await C(new URL(e.location,location.href));u=await oe({status:z(e),error:await $(e,{url:i,params:o,route:a}),url:i,route:a})}u.props.page&&(u.props.page.state={}),Xe(u,e,1)}async function nt(e,t){var r;const n=new URL(e);n.pathname=pt(e.pathname),e.pathname.endsWith("/")&&n.searchParams.append(Ct,"1"),n.searchParams.append($t,t.map((e=>e?"1":"0")).join(""));const o=await je(n.href);if(!o.ok){let e;throw null!=(r=o.headers.get("content-type"))&&r.includes("application/json")?e=await o.json():404===o.status?e="Not Found":500===o.status&&(e="Internal Error"),new ae(o.status,e)}return new Promise((async e=>{var t;const r=new Map,n=o.body.getReader(),a=new TextDecoder;function s(e){return Ot(e,{Promise:e=>new Promise(((t,n)=>{r.set(e,{fulfil:t,reject:n})}))})}let l="";for(;;){const{done:o,value:i}=await n.read();if(o&&!l)break;for(l+=!i&&l?"\n":a.decode(i,{stream:1});;){const n=l.indexOf("\n");if(-1===n)break;const o=JSON.parse(l.slice(0,n));if(l=l.slice(n+1),"redirect"===o.type)return e(o);if("data"===o.type)null==(t=o.nodes)||t.forEach((e=>{"data"===(null==e?void 0:e.type)&&(e.uses=at(e.uses),e.data=s(e.data))})),e(o);else if("chunk"===o.type){const{id:e,data:t,error:n}=o,a=r.get(e);r.delete(e),n?a.reject(s(n)):a.fulfil(s(t))}}}}))}function at(e){return{dependencies:new Set((null==e?void 0:e.dependencies)??[]),params:new Set((null==e?void 0:e.params)??[]),parent:!(null==e||!e.parent),route:!(null==e||!e.route),url:!(null==e||!e.url),search_params:new Set((null==e?void 0:e.search_params)??[])}}function zt(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const e=document.body,t=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:1,focusVisible:0}),null!==t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex");const r=getSelection();if(r&&"None"!==r.type){const e=[];for(let t=0;t<r.rangeCount;t+=1)e.push(r.getRangeAt(t));setTimeout((()=>{if(r.rangeCount===e.length){for(let t=0;t<r.rangeCount;t+=1){const n=e[t],o=r.getRangeAt(t);if(n.commonAncestorContainer!==o.commonAncestorContainer||n.startContainer!==o.startContainer||n.endContainer!==o.endContainer||n.startOffset!==o.startOffset||n.endOffset!==o.endOffset)return}r.removeAllRanges()}}))}}}function rt(e,t,r,n){var o,a;let s,l;const i=new Promise(((e,t)=>{s=e,l=t}));return i.catch((()=>{})),{navigation:{from:{params:e.params,route:{id:(null==(o=e.route)?void 0:o.id)??null},url:e.url},to:r&&{params:(null==t?void 0:t.params)??null,route:{id:(null==(a=null==t?void 0:t.route)?void 0:a.id)??null},url:r},willUnload:!t,type:n,complete:i},fulfil:s,reject:l}}export{en as a,U as s};