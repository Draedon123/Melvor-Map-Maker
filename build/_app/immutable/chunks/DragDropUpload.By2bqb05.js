import{a as T,t as j,d as G}from"./disclose-version.pAZcs84n.js";import{W as L,$ as R,X as I,a1 as X,a4 as q,Y as y,a2 as w,_ as M,a0 as A,a5 as W,Z as D}from"./utils.BRJKUTqf.js";import{a as E,s as Y}from"./imageUtils.CboFgM1z.js";import{a as m}from"./props.BlxC-9-v.js";import{s as Z,e as H,d as J,i as K,g as O}from"./store.BTSVGJLy.js";import{w as N}from"./index.DRsDyc71.js";import{t as Q}from"./input.IcoeKV5q.js";import{b as V}from"./this.BvguKOfU.js";import{e as U}from"./database.CtsHh3PR.js";const $=()=>performance.now(),g={tick:e=>requestAnimationFrame(e),now:()=>$(),tasks:new Set};function x(){const e=g.now();g.tasks.forEach(t=>{t.c(e)||(g.tasks.delete(t),t.f())}),g.tasks.size!==0&&g.tick(x)}function ee(e){let t;return g.tasks.size===0&&g.tick(x),{promise:new Promise(a=>{g.tasks.add(t={c:e,f:a})}),abort(){g.tasks.delete(t)}}}function C(e){return Object.prototype.toString.call(e)==="[object Date]"}function te(e){return e}function re(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function P(e,t){if(e===t||e!==e)return()=>e;const a=typeof e;if(a!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const f=t.map((o,n)=>P(e[n],o));return o=>f.map(n=>n(o))}if(a==="object"){if(!e||!t)throw new Error("Object cannot be null");if(C(e)&&C(t)){const n=e.getTime(),l=t.getTime()-n;return c=>new Date(n+c*l)}const f=Object.keys(t),o={};return f.forEach(n=>{o[n]=P(e[n],t[n])}),n=>{const i={};return f.forEach(l=>{i[l]=o[l](n)}),i}}if(a==="number"){const f=t-e;return o=>e+o*f}throw new Error(`Cannot interpolate ${a} values`)}function ne(e,t={}){const a=N(e);let f,o=e;function n(i,l){if(o=i,e==null)return a.set(e=i),Promise.resolve();let c=f,v=!1,{delay:h=0,duration:d=400,easing:p=te,interpolate:k=P}={...t,...l};if(d===0)return c&&(c.abort(),c=null),a.set(e=o),Promise.resolve();const F=g.now()+h;let S;return f=ee(u=>{if(u<F)return!0;v||(S=k(e,i),typeof d=="function"&&(d=d(e,i)),v=!0),c&&(c.abort(),c=null);const s=u-F;return s>d?(a.set(e=i),!1):(a.set(e=S(p(s/d))),!0)}),f.promise}return{set:n,update:(i,l)=>n(i(o,e),l),subscribe:a.subscribe}}var se=j('<div role="progressbar" class="container svelte-esq3ys"><div class="fill svelte-esq3ys"></div></div>');function ve(e,t){L(t,!0);const a=Z(),f=()=>H(d,"$progress",a);let o=m(t,"value",15,0),n=m(t,"containerStyles",23,()=>({})),i=m(t,"fillStyles",23,()=>({})),l=m(t,"ariaLabel",7,""),c=m(t,"easingFunction",7,re);function v(r){d.set(r)}function h(r){let b="";const _=Object.entries(r);for(const[z,B]of _)b+=`${z}: ${B};`;return b}const d=ne(o(),{easing:c()});d.subscribe(r=>{o(r)});let p=w(()=>({"border-color":"black",...n()})),k=w(()=>({"background-color":"red",width:`${f()*100}%`,...i()})),F=w(()=>h(y(p))),S=w(()=>h(y(k)));var u=se(),s=X(u);return q(u),R(()=>{E(u,"style",y(F)),E(u,"aria-label",l()),E(s,"style",y(S))}),T(e,u),I({set:v,get value(){return o()},set value(r){o(r)},get containerStyles(){return n()},set containerStyles(r){n(r)},get fillStyles(){return i()},set fillStyles(r){i(r)},get ariaLabel(){return l()},set ariaLabel(r){l(r)},get easingFunction(){return c()},set easingFunction(r){c(r)}})}function ae(e,t){y(t)!==void 0&&y(t).click()}function oe(e,t){const a=e.currentTarget.files;t()(a?[...a]:[])}var ie=j("<p>Drag and drop a files here, or click to upload a file.</p>"),le=j('<button class="file-upload svelte-19h7mpn"><!> <input class="file-upload-input svelte-19h7mpn" type="file"></button>');function he(e,t){L(t,!0);let a=m(t,"mimeType",3,"*"),f=m(t,"validFileRegex",3,/.*/),o=m(t,"multiple",3,!1),n=m(t,"onFileUpload",3,()=>{});const i="DragDropUpload.svelte";let l=A(!1),c=A(void 0);function v(s){const r=`${i} | onFileDrop`;if(s.preventDefault(),s.dataTransfer===null)return U(`${r}`,'Property "dataTransfer" was not found on event');D(l,!1);const b=[...s.dataTransfer.items].map(_=>_.getAsFile()).filter(_=>_!==null&&f().test(_.name));b.length!==0&&n()(b)}function h(s){const r=`${i} | onFileDragOver`;if(s.preventDefault(),s.dataTransfer===null)return U(`${r}`,'Property "dataTransfer" was not found on event');D(l,!0),s.dataTransfer.dropEffect="link"}function d(){D(l,!1)}var p=le();p.__click=[ae,c];var k=X(p);{var F=s=>{var r=G(),b=W(r);Y(b,()=>t.children),T(s,r)},S=s=>{var r=ie();T(s,r)};K(k,s=>{t.children?s(F):s(S,!1)})}var u=M(k,2);u.__change=[oe,n],V(u,s=>D(c,s),()=>y(c)),q(p),R(()=>{Q(p,"file-upload-dragging",y(l)),E(u,"accept",a()),u.multiple=o()}),O("dragover",p,h),O("dragleave",p,d),O("drop",p,v),T(e,p),I()}J(["click","change"]);export{he as D,ve as P};
