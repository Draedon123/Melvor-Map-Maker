import{n as P,D as L,E as W,a as V,l as S,j as Y,c as Z,u as x,g as $,b as ee,r as te,d as R}from"./scheduler.DkrlBnXb.js";import{S as G,i as M,e as D,b as T,d as U,h as b,j as m,k as A,l as j,s as ne,g as re,B as q,r as w,C as v,a as le,t as se,q as ie}from"./index.CJkGS9EB.js";import{w as oe}from"./index.C1yIJ3Kh.js";import{e as B}from"./database.thuhn2E_.js";const H=typeof window<"u";let ae=H?()=>window.performance.now():()=>Date.now(),J=H?t=>requestAnimationFrame(t):P;const _=new Set;function K(t){_.forEach(e=>{e.c(t)||(_.delete(e),e.f())}),_.size!==0&&J(K)}function fe(t){let e;return _.size===0&&J(K),{promise:new Promise(n=>{_.add(e={c:t,f:n})}),abort(){_.delete(e)}}}function X(t){return Object.prototype.toString.call(t)==="[object Date]"}function ue(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function C(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((l,o)=>C(t[o],l));return l=>r.map(o=>o(l))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(X(t)&&X(e)){t=t.getTime(),e=e.getTime();const o=e-t;return f=>new Date(t+f*o)}const r=Object.keys(e),l={};return r.forEach(o=>{l[o]=C(t[o],e[o])}),o=>{const f={};return r.forEach(g=>{f[g]=l[g](o)}),f}}if(n==="number"){const r=e-t;return l=>t+l*r}throw new Error(`Cannot interpolate ${n} values`)}function ce(t,e={}){const n=oe(t);let r,l=t;function o(f,g){if(t==null)return n.set(t=f),Promise.resolve();l=f;let c=r,u=!1,{delay:s=0,duration:i=400,easing:p=W,interpolate:F=C}=L(L({},e),g);if(i===0)return c&&(c.abort(),c=null),n.set(t=l),Promise.resolve();const h=ae()+s;let d;return r=fe(k=>{if(k<h)return!0;u||(d=F(t,f),typeof i=="function"&&(i=i(t,f)),u=!0),c&&(c.abort(),c=null);const E=k-h;return E>i?(n.set(t=f),!1):(n.set(t=d(p(E/i))),!0)}),r.promise}return{set:o,update:(f,g)=>o(f(l,t),g),subscribe:n.subscribe}}function de(t){let e,n;return{c(){e=D("div"),n=D("div"),this.h()},l(r){e=T(r,"DIV",{role:!0,class:!0,style:!0,"aria-label":!0});var l=U(e);n=T(l,"DIV",{class:!0,style:!0}),U(n).forEach(b),l.forEach(b),this.h()},h(){m(n,"class","fill svelte-esq3ys"),m(n,"style",t[1]),m(e,"role","progressbar"),m(e,"class","container svelte-esq3ys"),m(e,"style",t[2]),m(e,"aria-label",t[0])},m(r,l){A(r,e,l),j(e,n)},p(r,[l]){l&2&&m(n,"style",r[1]),l&4&&m(e,"style",r[2]),l&1&&m(e,"aria-label",r[0])},i:P,o:P,d(r){r&&b(e)}}}function z(t){let e="";const n=Object.entries(t);for(const[r,l]of n)e+=`${r}: ${l};`;return e}function ge(t,e,n){let r,l,o,f,g,{value:c=0}=e,{containerStyles:u={}}=e,{fillStyles:s={}}=e,{ariaLabel:i=""}=e,{easingFunction:p=ue}=e;function F(d){h.set(d)}const h=ce(c,{easing:p});return Y(t,h,d=>n(11,g=d)),h.subscribe(d=>{n(4,c=d)}),t.$$set=d=>{"value"in d&&n(4,c=d.value),"containerStyles"in d&&n(5,u=d.containerStyles),"fillStyles"in d&&n(6,s=d.fillStyles),"ariaLabel"in d&&n(0,i=d.ariaLabel),"easingFunction"in d&&n(7,p=d.easingFunction)},t.$$.update=()=>{t.$$.dirty&32&&n(10,r={"border-color":"black",...u}),t.$$.dirty&2112&&n(9,l={"background-color":"red",width:`${g*100}%`,...s}),t.$$.dirty&1024&&n(2,o=z(r)),t.$$.dirty&512&&n(1,f=z(l))},[i,f,o,h,c,u,s,p,F,l,r,g]}class Se extends G{constructor(e){super(),M(this,e,ge,de,V,{value:4,containerStyles:5,fillStyles:6,ariaLabel:0,easingFunction:7,set:8})}get value(){return this.$$.ctx[4]}set value(e){this.$$set({value:e}),S()}get containerStyles(){return this.$$.ctx[5]}set containerStyles(e){this.$$set({containerStyles:e}),S()}get fillStyles(){return this.$$.ctx[6]}set fillStyles(e){this.$$set({fillStyles:e}),S()}get ariaLabel(){return this.$$.ctx[0]}set ariaLabel(e){this.$$set({ariaLabel:e}),S()}get easingFunction(){return this.$$.ctx[7]}set easingFunction(e){this.$$set({easingFunction:e}),S()}get set(){return this.$$.ctx[8]}}function me(t){let e,n="Drag and drop a files here, or click to upload a file.";return{c(){e=D("p"),e.textContent=n},l(r){e=T(r,"P",{"data-svelte-h":!0}),ie(e)!=="svelte-1hufrka"&&(e.textContent=n)},m(r,l){A(r,e,l)},p:P,d(r){r&&b(e)}}}function he(t){let e,n,r,l,o,f;const g=t[13].default,c=Z(g,t,t[12],null),u=c||me();return{c(){e=D("button"),u&&u.c(),n=ne(),r=D("input"),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var i=U(e);u&&u.l(i),n=re(i),r=T(i,"INPUT",{class:!0,type:!0,accept:!0}),i.forEach(b),this.h()},h(){m(r,"class","file-upload-input svelte-19h7mpn"),m(r,"type","file"),m(r,"accept",t[0]),r.multiple=t[1],m(e,"class","file-upload svelte-19h7mpn"),q(e,"file-upload-dragging",t[2])},m(s,i){A(s,e,i),u&&u.m(e,null),j(e,n),j(e,r),t[14](r),t[15](e),l=!0,o||(f=[w(r,"change",t[9]),w(e,"dragover",v(t[6])),w(e,"dragleave",t[7]),w(e,"drop",v(t[5])),w(e,"click",t[8])],o=!0)},p(s,[i]){c&&c.p&&(!l||i&4096)&&x(c,g,s,s[12],l?ee(g,s[12],i,null):$(s[12]),null),(!l||i&1)&&m(r,"accept",s[0]),(!l||i&2)&&(r.multiple=s[1]),(!l||i&4)&&q(e,"file-upload-dragging",s[2])},i(s){l||(le(u,s),l=!0)},o(s){se(u,s),l=!1},d(s){s&&b(e),u&&u.d(s),t[14](null),t[15](null),o=!1,te(f)}}}const N="DragDropUpload.svelte";function pe(t,e,n){let{$$slots:r={},$$scope:l}=e,{mimeType:o="*"}=e,{validFileRegex:f=/.*/}=e,{multiple:g=!1}=e,{onFileUpload:c=()=>{}}=e,u=!1,s,i;function p(a){const y=`${N} | onFileDrop`;if(a.dataTransfer===null)return B(`${y}`,'Property "dataTransfer" was not found on event');n(2,u=!1);const I=[...a.dataTransfer.items].map(O=>O.getAsFile()).filter(O=>O!==null&&f.test(O.name));I.length!==0&&c(I)}function F(a){const y=`${N} | onFileDragOver`;if(a.dataTransfer===null)return B(`${y}`,'Property "dataTransfer" was not found on event');n(2,u=!0),a.dataTransfer.dropEffect="link"}function h(){n(2,u=!1)}function d(){i.click()}function k(a){const y=a.currentTarget.files;c(y?[...y]:[])}function E(a){R[a?"unshift":"push"](()=>{i=a,n(4,i)})}function Q(a){R[a?"unshift":"push"](()=>{s=a,n(3,s)})}return t.$$set=a=>{"mimeType"in a&&n(0,o=a.mimeType),"validFileRegex"in a&&n(10,f=a.validFileRegex),"multiple"in a&&n(1,g=a.multiple),"onFileUpload"in a&&n(11,c=a.onFileUpload),"$$scope"in a&&n(12,l=a.$$scope)},[o,g,u,s,i,p,F,h,d,k,f,c,l,r,E,Q]}class we extends G{constructor(e){super(),M(this,e,pe,he,V,{mimeType:0,validFileRegex:10,multiple:1,onFileUpload:11})}}export{we as D,Se as P};
