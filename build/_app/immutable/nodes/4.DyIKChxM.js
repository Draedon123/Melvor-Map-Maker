import{a as w,n as d,o as H,e as R}from"../chunks/scheduler.DahwKfaf.js";import{S as U,i as _,s as p,e as m,u as v,h as r,f,a as g,g as C,j as $,k as l}from"../chunks/index.C-CCz6-d.js";import{b as I}from"../chunks/paths.B0YEtpEc.js";class u{constructor(t="",s=1){this.hash=t,this.autoUpdateWindowHash=s}static fromWindow(t=1){return new u(window.location.hash.slice(1),t)}updateWindowHash(){return window.location.hash=""===this.hash?"":"#"+this.hash,this.hash}get(t){return this.getAllHashes()[t]??null}set(t,s){const e=this.getHashString(t,s);return this.contains(t)?this.hash=this.hash.replace(RegExp(`(${encodeURIComponent(t)}=.+?,)|(${encodeURIComponent(t)}=.+?$)`),e+","):(""!==this.hash&&(this.hash+=","),this.hash+=""+e),this.removeLeadingAndTrailingCommas(),this.autoUpdateWindowHash&&this.updateWindowHash(),this.hash}delete(t){if(!this.contains(t))return null;const s=this.get(t);return this.hash=this.hash.replace(RegExp(`(${encodeURIComponent(t)}=.+?,)|(${encodeURIComponent(t)}=.+?$)`),",").replace(/,+/,","),this.removeLeadingAndTrailingCommas(),this.autoUpdateWindowHash&&this.updateWindowHash(),s}contains(t){return RegExp(`(${encodeURIComponent(t)}=.+?,)|(${encodeURIComponent(t)}=.+?$)`).test(this.hash)}getAllHashes(){const t=this.hash.split(","),s={};for(const e of t){if(""===e)continue;const t=e.split("="),h=decodeURIComponent(t[0]),n=decodeURIComponent(t[1]);s[h]=n}return s}getHashString(t,s){return`${encodeURIComponent(t)}=${encodeURIComponent(s)}`}removeLeadingAndTrailingCommas(){var t,s,e,h;if(!this.hash.startsWith(",")&&!this.hash.endsWith(","))return this.hash;const n=(null==(s=null==(t=this.hash.match(/^,+/))?void 0:t[0])?void 0:s.length)??0,a=-((null==(h=null==(e=this.hash.match(/,+$/))?void 0:e[0])?void 0:h.length)??-this.hash.length);return this.hash=this.hash.slice(n,a),this.hash}}function W(t){let s,e,h,n;return{c(){s=p(),e=m("h1"),e.textContent="M3",h=p(),n=m("a"),n.innerHTML="",this.h()},l(t){v("svelte-1bq5zbc",document.head).forEach(r),s=f(t),e=g(t,"H1",{"data-svelte-h":1}),"svelte-1j5g960"!==C(e)&&(e.textContent="M3"),h=f(t),n=g(t,"A",{href:1,class:1,"data-svelte-h":1}),"svelte-20lnrp"!==C(n)&&(n.innerHTML=""),this.h()},h(){document.title="Melvor Map Maker",$(n,"href","/"),$(n,"class","svelte-k2loab")},m(a,o){l(a,s,o),l(a,e,o),l(a,h,o),l(a,n,o),t[1](n)},p:d,i:d,o:d,d(a){a&&(r(s),r(e),r(h),r(n)),t[1](null)}}}function M(t,s,e){let h;return H((()=>{const t=u.fromWindow().get("route");null!==t&&(e(0,h.href=`${I}/${t}`,h),h.click())})),[h,function(t){R[t?"unshift":"push"]((()=>{h=t,e(0,h)}))}]}class L extends U{constructor(t){super(),_(this,t,M,W,w,{})}}export{L as component};