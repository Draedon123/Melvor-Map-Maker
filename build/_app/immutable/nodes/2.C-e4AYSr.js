import{a as j,c as y,u as O,g as V,b as q,d as P,e as S}from"../chunks/scheduler.DkrlBnXb.js";import{S as G,i as M,e as v,c as w,s as D,b as I,d as A,f as R,g as T,h as g,j as m,k as L,m as C,l as b,a as p,t as $,n as E,o as B,p as H}from"../chunks/index.CJkGS9EB.js";import{b as U}from"../chunks/paths.IgDvqYq2.js";import{t as W}from"../chunks/imageUtils.Bf579i3y.js";import{s as z}from"../chunks/store.zhrxRWFP.js";import{D as F}from"../chunks/Dialog.CMVM9_Tx.js";import{T as J,a as K}from"../chunks/ToolbarItem.BD6uzBu_.js";function N(n){let e;return{c(){e=B("Preview Image")},l(a){e=H(a,"Preview Image")},m(a,l){L(a,e,l)},d(a){a&&g(e)}}}function Q(n){var l;let e,a;return e=new K({props:{imageSRC:U+"/preview.png",imageAltText:"A document and a magnifying glass",onClick:(l=n[0])==null?void 0:l.toggle,$$slots:{default:[N]},$$scope:{ctx:n}}}),{c(){w(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,o){C(e,s,o),a=!0},p(s,o){var f;const c={};o&1&&(c.onClick=(f=s[0])==null?void 0:f.toggle),o&64&&(c.$$scope={dirty:o,ctx:s}),e.$set(c)},i(s){a||(p(e.$$.fragment,s),a=!0)},o(s){$(e.$$.fragment,s),a=!1},d(s){E(e,s)}}}function X(n){let e,a,l;return{c(){e=v("img"),this.h()},l(s){e=I(s,"IMG",{src:!0,alt:!0,class:!0,style:!0}),this.h()},h(){S(e.src,a=n[2])||m(e,"src",a),m(e,"alt","Preview"),m(e,"class","preview svelte-1iadl15"),m(e,"style",l=n[2]===h?"width: 80vh; height: 80vh;":"")},m(s,o){L(s,e,o),n[4](e)},p(s,o){o&4&&!S(e.src,a=s[2])&&m(e,"src",a),o&4&&l!==(l=s[2]===h?"width: 80vh; height: 80vh;":"")&&m(e,"style",l)},d(s){s&&g(e),n[4](null)}}}function Y(n){let e,a,l,s,o,c,f;a=new J({props:{$$slots:{default:[Q]},$$scope:{ctx:n}}});let d={$$slots:{default:[X]},$$scope:{ctx:n}};s=new F({props:d}),n[5](s);const u=n[3].default,r=y(u,n,n[6],null);return{c(){e=v("div"),w(a.$$.fragment),l=D(),w(s.$$.fragment),o=D(),c=v("div"),r&&r.c(),this.h()},l(t){e=I(t,"DIV",{class:!0});var i=A(e);R(a.$$.fragment,i),l=T(i),R(s.$$.fragment,i),o=T(i),c=I(i,"DIV",{class:!0});var _=A(c);r&&r.l(_),_.forEach(g),i.forEach(g),this.h()},h(){m(c,"class","main"),m(e,"class","container svelte-1iadl15")},m(t,i){L(t,e,i),C(a,e,null),b(e,l),C(s,e,null),b(e,o),b(e,c),r&&r.m(c,null),f=!0},p(t,[i]){const _={};i&65&&(_.$$scope={dirty:i,ctx:t}),a.$set(_);const k={};i&70&&(k.$$scope={dirty:i,ctx:t}),s.$set(k),r&&r.p&&(!f||i&64)&&O(r,u,t,t[6],f?q(u,t[6],i,null):V(t[6]),null)},i(t){f||(p(a.$$.fragment,t),p(s.$$.fragment,t),p(r,t),f=!0)},o(t){$(a.$$.fragment,t),$(s.$$.fragment,t),$(r,t),f=!1},d(t){t&&g(e),E(a),n[5](null),E(s),r&&r.d(t)}}}const h=`${U}/black.png`;function Z(n,e,a){let{$$slots:l={},$$scope:s}=e,o,c,f=h;async function d(t){if(URL.revokeObjectURL(f),t===null){a(2,f=h);return}a(2,f=URL.createObjectURL(await W(t)))}z.subscribe(t=>{d(t.mapImage)});function u(t){P[t?"unshift":"push"](()=>{c=t,a(1,c)})}function r(t){P[t?"unshift":"push"](()=>{o=t,a(0,o)})}return n.$$set=t=>{"$$scope"in t&&a(6,s=t.$$scope)},[o,c,f,l,u,r,s]}class le extends G{constructor(e){super(),M(this,e,Z,Y,j,{})}}export{le as component};
