import{a as z,c as F,b as U,u as J,g as K,d as Q,r as W,e as G}from"../chunks/scheduler.DahwKfaf.js";import{S as X,i as Y,e as v,s as P,c as g,a as D,b as E,g as H,d as C,f as t,h as Z,j as a,l as M,t as $,k as ee}from"../chunks/index.C1-cXHhG.js";import{b as q}from"../chunks/paths.pNAXIGbf.js";import{s as te,r as se}from"../chunks/store.BWAkgWu5.js";function le(i){let l,c,m,n,_,b,u,R="Preview Image",k,o,f,I,e,j,x,p,N="Close",A,w,h,L,T;const O=i[6].default,r=F(O,i,i[5],null);return{c(){l=v("div"),c=v("aside"),m=v("div"),n=v("input"),b=P(),u=v("span"),u.textContent=R,k=P(),o=v("dialog"),f=v("img"),e=P(),j=v("br"),x=P(),p=v("button"),p.textContent=N,A=P(),w=v("div"),r&&r.c(),this.h()},l(s){l=g(s,"DIV",{class:!0});var d=D(l);c=g(d,"ASIDE",{class:!0});var V=D(c);m=g(V,"DIV",{class:!0});var S=D(m);n=g(S,"INPUT",{type:!0,src:!0,alt:!0,title:!0,class:!0}),b=E(S),u=g(S,"SPAN",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-1o5jq1t"&&(u.textContent=R),S.forEach(C),V.forEach(C),k=E(d),o=g(d,"DIALOG",{class:!0});var y=D(o);f=g(y,"IMG",{src:!0,alt:!0,class:!0}),e=E(y),j=g(y,"BR",{class:!0}),x=E(y),p=g(y,"BUTTON",{class:!0,"data-svelte-h":!0}),H(p)!=="svelte-1f187om"&&(p.textContent=N),y.forEach(C),A=E(d),w=g(d,"DIV",{class:!0});var B=D(w);r&&r.l(B),B.forEach(C),d.forEach(C),this.h()},h(){t(n,"type","image"),U(n.src,_=q+"/preview.png")||t(n,"src",_),t(n,"alt","A document and magnifying glass"),t(n,"title","Preview Image"),t(n,"class","svelte-1j56lxb"),t(u,"class","svelte-1j56lxb"),t(m,"class","svelte-1j56lxb"),t(c,"class","toolbar svelte-1j56lxb"),U(f.src,I=i[2])||t(f,"src",I),t(f,"alt","Preview"),t(f,"class","svelte-1j56lxb"),t(j,"class","svelte-1j56lxb"),t(p,"class","svelte-1j56lxb"),t(o,"class","modal svelte-1j56lxb"),t(w,"class","main svelte-1j56lxb"),t(l,"class","container svelte-1j56lxb")},m(s,d){Z(s,l,d),a(l,c),a(c,m),a(m,n),a(m,b),a(m,u),a(l,k),a(l,o),a(o,f),i[7](f),a(o,e),a(o,j),a(o,x),a(o,p),i[8](o),a(l,A),a(l,w),r&&r.m(w,null),h=!0,L||(T=[M(n,"click",i[3]),M(p,"click",i[4])],L=!0)},p(s,[d]){(!h||d&4&&!U(f.src,I=s[2]))&&t(f,"src",I),r&&r.p&&(!h||d&32)&&J(r,O,s,s[5],h?Q(O,s[5],d,null):K(s[5]),null)},i(s){h||($(r,s),h=!0)},o(s){ee(r,s),h=!1},d(s){s&&C(l),i[7](null),i[8](null),r&&r.d(s),L=!1,W(T)}}}function ae(i,l,c){let{$$slots:m={},$$scope:n}=l,_,b,u=`${q}/black.png`;function R(){_.open?_.close():_.showModal()}async function k(e){if(URL.revokeObjectURL(u),e===null){c(2,u=`${q}/black.png`);return}const j=document.body.offsetHeight*.75*devicePixelRatio,x=document.body.offsetHeight*.75*devicePixelRatio,p=await se(e,{type:"to",x:j,y:x},"url");c(2,u=p)}function o(){_.close()}te.subscribe(e=>{k(e.mapImage)});function f(e){G[e?"unshift":"push"](()=>{b=e,c(1,b)})}function I(e){G[e?"unshift":"push"](()=>{_=e,c(0,_)})}return i.$$set=e=>{"$$scope"in e&&c(5,n=e.$$scope)},[_,b,u,R,o,n,m,f,I]}class ce extends X{constructor(l){super(),Y(this,l,ae,le,z,{})}}export{ce as component};
