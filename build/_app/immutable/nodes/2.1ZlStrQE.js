import{a as M,c as V,b as A,u as z,g as N,d as F,e as E}from"../chunks/scheduler.DahwKfaf.js";import{S as J,i as K,e as $,c as U,s as y,a as h,b as O,d as j,f as P,g as Q,h as C,j as _,k as B,m as G,l as d,n as W,t as S,o as D,p as H,q as X,r as Y}from"../chunks/index.C-CCz6-d.js";import{b as L}from"../chunks/paths.B0YEtpEc.js";import{T as Z,a as x}from"../chunks/ToolbarItem.Zfx_4Cb3.js";import{s as ee,r as te}from"../chunks/store.BWAkgWu5.js";function se(){let s;return{c(){s=X("Preview Image")},l(e){s=Y(e,"Preview Image")},m(e,t){B(e,s,t)},d(e){e&&C(s)}}}function ae(s){let e,t;return e=new x({props:{imageSRC:L+"/preview.png",imageAltText:"A document and a magnifying glass",imageOnClick:s[3],$$slots:{default:[se]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(s){j(e.$$.fragment,s)},m(s,a){G(e,s,a),t=1},p(s,t){const a={};256&t&&(a.$$scope={dirty:t,ctx:s}),e.$set(a)},i(s){t||(S(e.$$.fragment,s),t=1)},o(s){D(e.$$.fragment,s),t=0},d(s){H(e,s)}}}function oe(s){let e,t,a,n,o,c,l,r,i,m,f,u,p,g,v,x="Close";t=new Z({props:{$$slots:{default:[ae]},$$scope:{ctx:s}}});const b=s[5].default,k=V(b,s,s[8],null);return{c(){e=$("div"),U(t.$$.fragment),a=y(),n=$("dialog"),o=$("img"),l=y(),r=$("br"),i=y(),m=$("button"),m.textContent=x,f=y(),u=$("div"),k&&k.c(),this.h()},l(s){e=h(s,"DIV",{class:1});var c=O(e);j(t.$$.fragment,c),a=P(c),n=h(c,"DIALOG",{class:1});var $=O(n);o=h($,"IMG",{src:1,alt:1,class:1}),l=P($),r=h($,"BR",{}),i=P($),m=h($,"BUTTON",{class:1,"data-svelte-h":1}),"svelte-1f187om"!==Q(m)&&(m.textContent=x),$.forEach(C),f=P(c),u=h(c,"DIV",{class:1});var d=O(u);k&&k.l(d),d.forEach(C),c.forEach(C),this.h()},h(){A(o.src,c=s[2])||_(o,"src",c),_(o,"alt","Preview"),_(o,"class","svelte-15vdm1f"),_(m,"class","svelte-15vdm1f"),_(n,"class","modal svelte-15vdm1f"),_(u,"class","main"),_(e,"class","container svelte-15vdm1f")},m(c,$){B(c,e,$),G(t,e,null),d(e,a),d(e,n),d(n,o),s[6](o),d(n,l),d(n,r),d(n,i),d(n,m),s[7](n),d(e,f),d(e,u),k&&k.m(u,null),p=1,g||(v=W(m,"click",s[4]),g=1)},p(s,[e]){const a={};256&e&&(a.$$scope={dirty:e,ctx:s}),t.$set(a),(!p||4&e&&!A(o.src,c=s[2]))&&_(o,"src",c),k&&k.p&&(!p||256&e)&&z(k,b,s,s[8],p?F(b,s[8],e,null):N(s[8]),null)},i(s){p||(S(t.$$.fragment,s),S(k,s),p=1)},o(s){D(t.$$.fragment,s),D(k,s),p=0},d(a){a&&C(e),H(t),s[6](null),s[7](null),k&&k.d(a),g=0,v()}}}function le(s,e,t){let a,n,{$$slots:o={},$$scope:c}=e,l=L+"/black.png";return ee.subscribe((s=>{!async function(s){if(URL.revokeObjectURL(l),null===s)return void t(2,l=L+"/black.png");const e=.75*document.body.offsetHeight*devicePixelRatio,a=.75*document.body.offsetHeight*devicePixelRatio,n=await te(s,{type:"to",x:e,y:a},"url");t(2,l=n)}(s.mapImage)})),s.$$set=s=>{"$$scope"in s&&t(8,c=s.$$scope)},[a,n,l,function(){a.open?a.close():a.showModal()},function(){a.close()},o,function(s){E[s?"unshift":"push"]((()=>{n=s,t(1,n)}))},function(s){E[s?"unshift":"push"]((()=>{a=s,t(0,a)}))},c]}class me extends J{constructor(s){super(),K(this,s,le,oe,M,{})}}export{me as component};