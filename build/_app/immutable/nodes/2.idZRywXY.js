import{a as m,t as P,b as k}from"../chunks/disclose-version.pAZcs84n.js";import{W as A,X as T,Y as a,Z as i,_ as h,$ as U,R as D,a0 as p,a1 as _,a2 as O,a3 as j,a4 as $}from"../chunks/utils.BRJKUTqf.js";import{s as M,t as W,a as I}from"../chunks/imageUtils.CboFgM1z.js";import{p as R}from"../chunks/props.BlxC-9-v.js";import{b as w}from"../chunks/this.BvguKOfU.js";import{s as B}from"../chunks/store.2SISmz6u.js";import{D as F}from"../chunks/Dialog.ByOQsEJR.js";import{T as G,a as H}from"../chunks/ToolbarItem.C0umnPDF.js";import{b as C}from"../chunks/paths.BXsdQ0-J.js";const d=`${C}/black.png`;var V=P('<img alt="Preview" class="preview svelte-1iadl15">'),X=P('<div class="container svelte-1iadl15"><!> <!> <div class="main"><!></div></div>');function te(x,v){A(v,!0);let o=p(void 0),c=null,l=!1,g=p(void 0),s=p(d);async function L(e){if(URL.revokeObjectURL(a(s)),e===null){i(s,d);return}i(s,R(URL.createObjectURL(await W(e))))}B.subscribe(e=>{e.mapImage===c||l||(l=!0,L(e.mapImage).then(()=>{c=e.mapImage,l=!1}))});var n=X(),f=_(n);G(f,{children:(e,E)=>{var t=O(()=>{var r;return(r=a(o))==null?void 0:r.toggle});H(e,{imageSRC:`${C??""}/preview.png`,imageAltText:"A document and a magnifying glass",get onClick(){return a(t)},children:(r,Y)=>{j();var S=k("Preview Image");m(r,S)},$$slots:{default:!0}})},$$slots:{default:!0}});var u=h(f,2);w(F(u,{children:(e,E)=>{var t=V();w(t,r=>i(g,r),()=>a(g)),U(()=>{I(t,"src",a(s)),I(t,"style",a(s)===d?"width: 80vh; height: 80vh;":"")}),m(e,t)},$$slots:{default:!0}}),e=>i(o,R(e)),()=>a(o));var b=h(u,2),y=_(b);M(y,()=>v.children??D),$(b),$(n),m(x,n),T()}export{te as component};
