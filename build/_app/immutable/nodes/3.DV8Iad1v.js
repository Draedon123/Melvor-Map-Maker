import{a as ie,j as he,o as Oe,C as pe,d as x,r as Q,F as _e,c as De,e as Ae,u as Te,g as Ce,b as we,H as Ye,n as q,I as je,D as Ge,l as ze}from"../chunks/scheduler.DkrlBnXb.js";import{S as se,i as ue,c as G,f as z,m as K,a as W,t as X,n as J,e as b,s as O,b as g,d as Y,q as Z,g as R,h as f,j as c,k as h,l as M,r as A,F as de,B as ee,o as C,p as w,x as Ie,G as Le,H as Ue,I as Re,D as y,y as Ne,v as Me,E as F,J as Ke,u as fe}from"../chunks/index.DAjaqhrv.js";import{b as ye}from"../chunks/paths.C7ao5ybt.js";import{D as Fe}from"../chunks/Dialog.Ca4F56h0.js";import{s as te,S as Je}from"../chunks/store.wCSvBv1Q.js";import{T as Qe,a as $e}from"../chunks/ToolbarItem.BW5xWgrz.js";import{c as Ze,d as xe}from"../chunks/imageUtils.wc1ecRim.js";import{D as et,P as tt}from"../chunks/DragDropUpload.GroTzcPk.js";import{d as lt}from"../chunks/index.C1yIJ3Kh.js";import{e as ke,u as nt,o as it}from"../chunks/each.DrQAw76Y.js";function st(o,t){const e={},l={},n={$$scope:1};let r=o.length;for(;r--;){const s=o[r],u=t[r];if(u){for(const i in s)i in u||(l[i]=1);for(const i in u)n[i]||(e[i]=u[i],n[i]=1);o[r]=u}else for(const i in s)n[i]=1}for(const s in l)s in e||(e[s]=void 0);return e}function ut(o){let t,e,l="Hex Count",n,r,s,u,i="X:",a,p,m,D,_,d,v,I="Y:",$,U,N,E,P;return{c(){t=b("div"),e=b("h1"),e.textContent=l,n=O(),r=b("br"),s=O(),u=b("label"),u.textContent=i,a=O(),p=b("input"),D=O(),_=b("br"),d=O(),v=b("label"),v.textContent=I,$=O(),U=b("input"),this.h()},l(k){t=g(k,"DIV",{class:!0});var B=Y(t);e=g(B,"H1",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-c4bxn4"&&(e.textContent=l),n=R(B),r=g(B,"BR",{class:!0}),s=R(B),u=g(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-vvw4xn"&&(u.textContent=i),a=R(B),p=g(B,"INPUT",{id:!0,name:!0,type:!0,min:!0,step:!0,class:!0}),D=R(B),_=g(B,"BR",{class:!0}),d=R(B),v=g(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(v)!=="svelte-tr29dr"&&(v.textContent=I),$=R(B),U=g(B,"INPUT",{id:!0,name:!0,type:!0,min:!0,step:!0,class:!0}),B.forEach(f),this.h()},h(){c(e,"class","svelte-m378fu"),c(r,"class","svelte-m378fu"),c(u,"for","hexesX"),c(u,"class","svelte-m378fu"),c(p,"id","hexesX"),c(p,"name","hexesX"),c(p,"type","number"),c(p,"min",1),c(p,"step",1),p.value=m=o[1].hexesX,c(p,"class","svelte-m378fu"),c(_,"class","svelte-m378fu"),c(v,"for","hexesY"),c(v,"class","svelte-m378fu"),c(U,"id","hexesY"),c(U,"name","hexesY"),c(U,"type","number"),c(U,"min",1),c(U,"step",1),U.value=N=o[1].hexesY,c(U,"class","svelte-m378fu"),c(t,"class","dialog svelte-m378fu")},m(k,B){h(k,t,B),M(t,e),M(t,n),M(t,r),M(t,s),M(t,u),M(t,a),M(t,p),M(t,D),M(t,_),M(t,d),M(t,v),M(t,$),M(t,U),E||(P=[A(p,"change",o[3]),A(U,"change",o[4])],E=!0)},p(k,B){B&2&&m!==(m=k[1].hexesX)&&p.value!==m&&(p.value=m),B&2&&N!==(N=k[1].hexesY)&&U.value!==N&&(U.value=N)},d(k){k&&f(t),E=!1,Q(P)}}}function rt(o){let t,e,l={$$slots:{default:[ut]},$$scope:{ctx:o}};return t=new Fe({props:l}),o[5](t),{c(){G(t.$$.fragment)},l(n){z(t.$$.fragment,n)},m(n,r){K(t,n,r),e=!0},p(n,[r]){const s={};r&130&&(s.$$scope={dirty:r,ctx:n}),t.$set(s)},i(n){e||(W(t.$$.fragment,n),e=!0)},o(n){X(t.$$.fragment,n),e=!1},d(n){o[5](null),J(t,n)}}}function ot(o,t,e){let l;he(o,te,p=>e(1,l=p));const n={modal:null};let r;const s={x:l.hexesX,y:l.hexesY};te.subscribe(({hexesX:p,hexesY:m})=>{l.viewport===null||s.x===p&&s.y===m||l.hexGridLayer.populate(l.mapDimensions,l.viewport,p,m)}),Oe(()=>{e(2,n.modal=r,n)});const u=p=>{const m=parseInt(p.currentTarget.value);pe(te,l.hexesX=isNaN(m)?1:Math.max(Math.floor(m),1),l)},i=p=>{const m=parseInt(p.currentTarget.value);pe(te,l.hexesY=isNaN(m)?1:Math.max(Math.floor(m),1),l)};function a(p){x[p?"unshift":"push"](()=>{r=p,e(0,r)})}return[r,l,n,u,i,a]}class at extends se{constructor(t){super(),ue(this,t,ot,rt,ie,{exports:2})}get exports(){return this.$$.ctx[2]}}function pt(o){let t,e=`Drag and drop your .basis files here (in 1 go), or click to upload a
        file.`,l,n,r;return{c(){t=b("p"),t.textContent=e,l=O(),n=b("span"),r=C(o[1]),this.h()},l(s){t=g(s,"P",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1isbihn"&&(t.textContent=e),l=R(s),n=g(s,"SPAN",{class:!0});var u=Y(n);r=w(u,o[1]),u.forEach(f),this.h()},h(){c(t,"class","svelte-vmuffc"),c(n,"class","error svelte-vmuffc")},m(s,u){h(s,t,u),h(s,l,u),h(s,n,u),M(n,r)},p(s,u){u&2&&Ie(r,s[1])},d(s){s&&(f(t),f(l),f(n))}}}function ft(o){let t,e,l="Upload Map Images",n,r,s="The map images must be in the format: tile_(x)_(y)@(1x OR 0.5x).basis",u,i,a="ie, tile_3_5@0.5x.basis",p,m,D,_,d,v,I;m=new et({props:{mimeType:".basis",multiple:!0,onFileUpload:o[4],$$slots:{default:[pt]},$$scope:{ctx:o}}});function $(N){o[6](N)}let U={containerStyles:{"border-color":"red"}};return o[2]!==void 0&&(U.value=o[2]),d=new tt({props:U}),x.push(()=>de(d,"value",$)),o[7](d),{c(){t=b("div"),e=b("h1"),e.textContent=l,n=O(),r=b("p"),r.textContent=s,u=O(),i=b("p"),i.textContent=a,p=O(),G(m.$$.fragment),D=O(),_=b("div"),G(d.$$.fragment),this.h()},l(N){t=g(N,"DIV",{class:!0});var E=Y(t);e=g(E,"H1",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-d8o6tz"&&(e.textContent=l),n=R(E),r=g(E,"P",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-lya26t"&&(r.textContent=s),u=R(E),i=g(E,"P",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-1gtbz8v"&&(i.textContent=a),p=R(E),z(m.$$.fragment,E),D=R(E),_=g(E,"DIV",{class:!0});var P=Y(_);z(d.$$.fragment,P),P.forEach(f),E.forEach(f),this.h()},h(){c(e,"class","svelte-vmuffc"),c(r,"class","svelte-vmuffc"),c(i,"class","svelte-vmuffc"),c(_,"class","progress-bar svelte-vmuffc"),ee(_,"hidden",o[2]===0),c(t,"class","dialog svelte-vmuffc")},m(N,E){h(N,t,E),M(t,e),M(t,n),M(t,r),M(t,u),M(t,i),M(t,p),K(m,t,null),M(t,D),M(t,_),K(d,_,null),I=!0},p(N,E){const P={};E&1026&&(P.$$scope={dirty:E,ctx:N}),m.$set(P);const k={};!v&&E&4&&(v=!0,k.value=N[2],_e(()=>v=!1)),d.$set(k),(!I||E&4)&&ee(_,"hidden",N[2]===0)},i(N){I||(W(m.$$.fragment,N),W(d.$$.fragment,N),I=!0)},o(N){X(m.$$.fragment,N),X(d.$$.fragment,N),I=!1},d(N){N&&f(t),J(m),o[7](null),J(d)}}}function mt(o){let t,e,l={$$slots:{default:[ft]},$$scope:{ctx:o}};return t=new Fe({props:l}),o[8](t),{c(){G(t.$$.fragment)},l(n){z(t.$$.fragment,n)},m(n,r){K(t,n,r),e=!0},p(n,[r]){const s={};r&1038&&(s.$$scope={dirty:r,ctx:n}),t.$set(s)},i(n){e||(W(t.$$.fragment,n),e=!0)},o(n){X(t.$$.fragment,n),e=!1},d(n){o[8](null),J(t,n)}}}const ct=/^tile_\d+_\d+@(1|0.5)x\.basis$/;function ht(o,t,e){let l;he(o,te,_=>e(9,l=_));const n={modal:null};let r,s="",u=0,i;async function a(_){var E;if(e(1,s=""),l.viewport===null){e(1,s="Error: App is not initialised. This shouldn't happen...");return}if(_.length===0)return;const d=(E=_.find(P=>!ct.test(P.name)))==null?void 0:E.name;if(d!==void 0){e(1,s=`Invalid file name: ${d}`);return}const v=_.map(P=>{const k=P.name.slice(0,-7).split(/_|@/g),B=parseInt(k[1]),L=parseInt(k[2]),S=parseInt(k[3]);return{x:B,y:L,resolution:S}}),I=Math.max(...v.map(P=>P.x))+1,$=Math.max(...v.map(P=>P.y))+1;if(v.length!==I*$){const P=[];for(let k=0;k<I;k++)for(let B=0;B<$;B++)v.find(L=>L.x===k&&L.y===B)===void 0&&P.push({x:k,y:B});e(1,s=`Some tiles are missing. First, do you intend to have ${I}x${$} tiles? If so, then you are missing these tiles: ${P.map(k=>`(${k.x},${k.y})`).join(", ")}`);return}const U=await Ze(_.map(P=>({file:P,name:P.name})),2,P=>{i.set(P)});pe(te,l.mapDimensions={x:U.tileWidth*I,y:U.tileHeight*$},l);const N=U.tiles.map(P=>{const k=Je.from(xe(P.image));return k.x=P.x*U.tileWidth,k.y=P.y*U.tileHeight,k.cullable=!0,k.label=`Tile (${P.x}, ${P.y})`,k});l.viewport.children.forEach(P=>P.removeChildren().forEach(k=>k.destroy)),l.backgroundLayer.addChild(...N),pe(te,l.viewport.worldWidth=l.mapDimensions.x,l),pe(te,l.viewport.worldHeight=l.mapDimensions.y,l),l.viewport.centerViewport(),l.hexGridLayer.populate(l.mapDimensions,l.viewport,l.hexesX,l.hexesY)}Oe(()=>{e(5,n.modal=r,n)});function p(_){u=_,e(2,u)}function m(_){x[_?"unshift":"push"](()=>{i=_,e(3,i)})}function D(_){x[_?"unshift":"push"](()=>{r=_,e(0,r)})}return[r,s,u,i,a,n,p,m,D]}class _t extends se{constructor(t){super(),ue(this,t,ht,mt,ie,{exports:5})}get exports(){return this.$$.ctx[5]}}function dt(o){let t,e,l,n,r,s,u;const i=o[6].default,a=De(i,o,o[5],null);return{c(){t=b("input"),l=O(),n=b("div"),a&&a.c(),this.h()},l(p){t=g(p,"INPUT",{type:!0,src:!0,alt:!0,class:!0}),l=R(p),n=g(p,"DIV",{class:!0});var m=Y(n);a&&a.l(m),m.forEach(f),this.h()},h(){c(t,"type","image"),Ae(t.src,e=o[0])||c(t,"src",e),c(t,"alt",o[1]),c(t,"class","svelte-1mndwfc"),ee(t,"active",o[2]===o[3].propertiesMenu.activeTab),c(n,"class","svelte-1mndwfc"),ee(n,"hidden",o[2]!==o[3].propertiesMenu.activeTab)},m(p,m){h(p,t,m),h(p,l,m),h(p,n,m),a&&a.m(n,null),r=!0,s||(u=A(t,"click",o[4]),s=!0)},p(p,[m]){(!r||m&1&&!Ae(t.src,e=p[0]))&&c(t,"src",e),(!r||m&2)&&c(t,"alt",p[1]),(!r||m&12)&&ee(t,"active",p[2]===p[3].propertiesMenu.activeTab),a&&a.p&&(!r||m&32)&&Te(a,i,p,p[5],r?we(i,p[5],m,null):Ce(p[5]),null),(!r||m&12)&&ee(n,"hidden",p[2]!==p[3].propertiesMenu.activeTab)},i(p){r||(W(a,p),r=!0)},o(p){X(a,p),r=!1},d(p){p&&(f(t),f(l),f(n)),a&&a.d(p),s=!1,u()}}}let vt=0;function bt(){return vt++}function gt(o,t,e){let l;he(o,te,p=>e(3,l=p));let{$$slots:n={},$$scope:r}=t,{imageSRC:s}=t,{imageAltText:u}=t;const i=bt();function a(){pe(te,l.propertiesMenu.activeTab=i,l)}return o.$$set=p=>{"imageSRC"in p&&e(0,s=p.imageSRC),"imageAltText"in p&&e(1,u=p.imageAltText),"$$scope"in p&&e(5,r=p.$$scope)},[s,u,i,l,a,r,n]}class It extends se{constructor(t){super(),ue(this,t,gt,dt,ie,{imageSRC:0,imageAltText:1,id:2})}get id(){return this.$$.ctx[2]}}function yt(o){let t,e,l=(o[4]?o[4]:o[1])+"",n,r,s,u,i,a,p,m,D;const _=o[9].default,d=De(_,o,o[8],null);return{c(){t=b("div"),e=b("button"),n=C(l),r=O(),s=Le("svg"),u=Le("path"),i=O(),a=b("div"),d&&d.c(),this.h()},l(v){t=g(v,"DIV",{class:!0});var I=Y(t);e=g(I,"BUTTON",{style:!0,class:!0});var $=Y(e);n=w($,l),r=R($),s=Ue($,"svg",{viewBox:!0,fill:!0,xmlns:!0,class:!0});var U=Y(s);u=Ue(U,"path",{d:!0,fill:!0}),Y(u).forEach(f),U.forEach(f),$.forEach(f),i=R(I),a=g(I,"DIV",{class:!0});var N=Y(a);d&&d.l(N),N.forEach(f),I.forEach(f),this.h()},h(){c(u,"d","M8.36612 16.1161C7.87796 16.6043 7.87796 17.3957 8.36612 17.8839L23.1161 32.6339C23.6043 33.122 24.3957 33.122 24.8839 32.6339L39.6339 17.8839C40.122 17.3957 40.122 16.6043 39.6339 16.1161C39.1457 15.628 38.3543 15.628 37.8661 16.1161L24 29.9822L10.1339 16.1161C9.64573 15.628 8.85427 15.628 8.36612 16.1161Z"),c(u,"fill",o[2]),c(s,"viewBox","0 0 48 48"),c(s,"fill","none"),c(s,"xmlns","http://www.w3.org/2000/svg"),c(s,"class","svelte-rqxbk4"),ee(s,"vertical-flip",o[0]),c(e,"style",o[3]),c(e,"class","svelte-rqxbk4"),c(a,"class","optionContainer svelte-rqxbk4"),ee(a,"hidden",!o[0]),c(t,"class","container")},m(v,I){h(v,t,I),M(t,e),M(e,n),M(e,r),M(e,s),M(s,u),M(t,i),M(t,a),d&&d.m(a,null),p=!0,m||(D=A(e,"click",Re(o[5])),m=!0)},p(v,[I]){(!p||I&18)&&l!==(l=(v[4]?v[4]:v[1])+"")&&Ie(n,l),(!p||I&4)&&c(u,"fill",v[2]),(!p||I&1)&&ee(s,"vertical-flip",v[0]),(!p||I&8)&&c(e,"style",v[3]),d&&d.p&&(!p||I&256)&&Te(d,_,v,v[8],p?we(_,v[8],I,null):Ce(v[8]),null),(!p||I&1)&&ee(a,"hidden",!v[0])},i(v){p||(W(d,v),p=!0)},o(v){X(d,v),p=!1},d(v){v&&f(t),d&&d.d(v),m=!1,D()}}}function kt(o,t,e){let{$$slots:l={},$$scope:n}=t,{placeholder:r=""}=t,{value:s=""}=t,{caretFillColour:u="#000000"}=t,{style:i=""}=t,{showOptions:a=!1}=t,{onChange:p=()=>{}}=t,m=s;Ye("dropdown",{hide:()=>{e(0,a=!1)},setValue(_){e(6,s=_)},setTextContext(_){e(4,m=_)},onChange:p});function D(){e(0,a=!a)}return o.$$set=_=>{"placeholder"in _&&e(1,r=_.placeholder),"value"in _&&e(6,s=_.value),"caretFillColour"in _&&e(2,u=_.caretFillColour),"style"in _&&e(3,i=_.style),"showOptions"in _&&e(0,a=_.showOptions),"onChange"in _&&e(7,p=_.onChange),"$$scope"in _&&e(8,n=_.$$scope)},[a,r,u,i,m,D,s,p,n,l]}class Dt extends se{constructor(t){super(),ue(this,t,kt,yt,ie,{placeholder:1,value:6,caretFillColour:2,style:3,showOptions:0,onChange:7})}}function Tt(o){let t,e,l;return{c(){t=b("input"),this.h()},l(n){t=g(n,"INPUT",{placeholder:!0}),this.h()},h(){c(t,"placeholder",o[0])},m(n,r){h(n,t,r),y(t,o[1]),o[6](t),e||(l=[A(t,"input",o[5]),A(t,"change",o[3])],e=!0)},p(n,[r]){r&1&&c(t,"placeholder",n[0]),r&2&&t.value!==n[1]&&y(t,n[1])},i:q,o:q,d(n){n&&f(t),o[6](null),e=!1,Q(l)}}}function Ct(o,t,e){let{value:l=[]}=t,{placeholder:n=""}=t,r=l.join(","),s;function u(){const p=s.value.split(",").map(m=>m.trimStart()).filter(m=>m!=="");e(4,l=p)}function i(){r=this.value,e(1,r)}function a(p){x[p?"unshift":"push"](()=>{s=p,e(2,s)})}return o.$$set=p=>{"value"in p&&e(4,l=p.value),"placeholder"in p&&e(0,n=p.placeholder)},[n,r,s,u,l,i,a]}class Ve extends se{constructor(t){super(),ue(this,t,Ct,Tt,ie,{value:4,placeholder:0})}}function wt(o){let t,e,l,n,r,s,u;return{c(){t=C("A minimum of "),e=b("input"),l=C(`
    township tasks attached to the realm
    `),n=b("input"),r=C(" must be completed"),this.h()},l(i){t=w(i,"A minimum of "),e=g(i,"INPUT",{type:!0,min:!0,step:!0}),l=w(i,`
    township tasks attached to the realm
    `),n=g(i,"INPUT",{placeholder:!0,list:!0}),r=w(i," must be completed"),this.h()},h(){c(e,"type","number"),c(e,"min","1"),c(e,"step","1"),c(n,"placeholder","(Optional)"),c(n,"list","realms")},m(i,a){h(i,t,a),h(i,e,a),y(e,o[0].count),h(i,l,a),h(i,n,a),y(n,o[0].realm),h(i,r,a),s||(u=[A(e,"input",o[36]),A(n,"input",o[37])],s=!0)},p(i,a){a[0]&1&&F(e.value)!==i[0].count&&y(e,i[0].count),a[0]&1&&n.value!==i[0].realm&&y(n,i[0].realm)},i:q,o:q,d(i){i&&(f(t),f(e),f(l),f(n),f(r)),s=!1,Q(u)}}}function Nt(o){let t,e,l,n,r,s,u;return{c(){t=C("A minimum of "),e=b("input"),l=C(`
    township building `),n=b("input"),r=C(` must be actively
    built`),this.h()},l(i){t=w(i,"A minimum of "),e=g(i,"INPUT",{type:!0,min:!0,step:!0}),l=w(i,`
    township building `),n=g(i,"INPUT",{}),r=w(i,` must be actively
    built`),this.h()},h(){c(e,"type","number"),c(e,"min","1"),c(e,"step","1")},m(i,a){h(i,t,a),h(i,e,a),y(e,o[0].count),h(i,l,a),h(i,n,a),y(n,o[0].buildingID),h(i,r,a),s||(u=[A(e,"input",o[34]),A(n,"input",o[35])],s=!0)},p(i,a){a[0]&1&&F(e.value)!==i[0].count&&y(e,i[0].count),a[0]&1&&n.value!==i[0].buildingID&&y(n,i[0].buildingID)},i:q,o:q,d(i){i&&(f(t),f(e),f(l),f(n),f(r)),s=!1,Q(u)}}}function Mt(o){let t,e,l,n,r,s,u;return{c(){t=C("A minimum of "),e=b("input"),l=C(`
    slayer tasks in the slayer category
    `),n=b("input"),r=C(" must be completed"),this.h()},l(i){t=w(i,"A minimum of "),e=g(i,"INPUT",{type:!0,min:!0,step:!0}),l=w(i,`
    slayer tasks in the slayer category
    `),n=g(i,"INPUT",{}),r=w(i," must be completed"),this.h()},h(){c(e,"type","number"),c(e,"min","1"),c(e,"step","1")},m(i,a){h(i,t,a),h(i,e,a),y(e,o[0].count),h(i,l,a),h(i,n,a),y(n,o[0].category),h(i,r,a),s||(u=[A(e,"input",o[32]),A(n,"input",o[33])],s=!0)},p(i,a){a[0]&1&&F(e.value)!==i[0].count&&y(e,i[0].count),a[0]&1&&n.value!==i[0].category&&y(n,i[0].category)},i:q,o:q,d(i){i&&(f(t),f(e),f(l),f(n),f(r)),s=!1,Q(u)}}}function Pt(o){let t,e,l,n,r;return{c(){t=C("The item "),e=b("input"),l=C(" must currently be equipped")},l(s){t=w(s,"The item "),e=g(s,"INPUT",{}),l=w(s," must currently be equipped")},m(s,u){h(s,t,u),h(s,e,u),y(e,o[0].itemID),h(s,l,u),n||(r=A(e,"input",o[31]),n=!0)},p(s,u){u[0]&1&&e.value!==s[0].itemID&&y(e,s[0].itemID)},i:q,o:q,d(s){s&&(f(t),f(e),f(l)),n=!1,r()}}}function At(o){let t,e,l,n,r,s,u,i,a;return{c(){t=C("The skill tree "),e=b("input"),l=C(` for the skill
    `),n=b("input"),r=C(`
    must have the node `),s=b("input"),u=C(" unlocked")},l(p){t=w(p,"The skill tree "),e=g(p,"INPUT",{}),l=w(p,` for the skill
    `),n=g(p,"INPUT",{}),r=w(p,`
    must have the node `),s=g(p,"INPUT",{}),u=w(p," unlocked")},m(p,m){h(p,t,m),h(p,e,m),y(e,o[0].skillTreeID),h(p,l,m),h(p,n,m),y(n,o[0].skillID),h(p,r,m),h(p,s,m),y(s,o[0].nodeID),h(p,u,m),i||(a=[A(e,"input",o[28]),A(n,"input",o[29]),A(s,"input",o[30])],i=!0)},p(p,m){m[0]&1&&e.value!==p[0].skillTreeID&&y(e,p[0].skillTreeID),m[0]&1&&n.value!==p[0].skillID&&y(n,p[0].skillID),m[0]&1&&s.value!==p[0].nodeID&&y(s,p[0].nodeID)},i:q,o:q,d(p){p&&(f(t),f(e),f(l),f(n),f(r),f(s),f(u)),i=!1,Q(a)}}}function Lt(o){let t,e,l,n,r,s;return{c(){t=C("The skill "),e=b("input"),l=C(` must be
    at least level
    `),n=b("input"),this.h()},l(u){t=w(u,"The skill "),e=g(u,"INPUT",{list:!0}),l=w(u,` must be
    at least level
    `),n=g(u,"INPUT",{type:!0,min:!0,step:!0}),this.h()},h(){c(e,"list","skillIDs"),c(n,"type","number"),c(n,"min","1"),c(n,"step","1")},m(u,i){h(u,t,i),h(u,e,i),y(e,o[0].skillID),h(u,l,i),h(u,n,i),y(n,o[0].level),r||(s=[A(e,"input",o[26]),A(n,"input",o[27])],r=!0)},p(u,i){i[0]&1&&e.value!==u[0].skillID&&y(e,u[0].skillID),i[0]&1&&F(n.value)!==u[0].level&&y(n,u[0].level)},i:q,o:q,d(u){u&&(f(t),f(e),f(l),f(n)),r=!1,Q(s)}}}function Ut(o){let t,e,l,n,r,s,u;return{c(){t=C("The shop purchase "),e=b("input"),l=C(` must be
    purchased at least
    `),n=b("input"),r=C(" times"),this.h()},l(i){t=w(i,"The shop purchase "),e=g(i,"INPUT",{}),l=w(i,` must be
    purchased at least
    `),n=g(i,"INPUT",{type:!0,min:!0,step:!0}),r=w(i," times"),this.h()},h(){c(n,"type","number"),c(n,"min","1"),c(n,"step","1")},m(i,a){h(i,t,a),h(i,e,a),y(e,o[0].purchaseID),h(i,l,a),h(i,n,a),y(n,o[0].count),h(i,r,a),s||(u=[A(e,"input",o[24]),A(n,"input",o[25])],s=!0)},p(i,a){a[0]&1&&e.value!==i[0].purchaseID&&y(e,i[0].purchaseID),a[0]&1&&F(n.value)!==i[0].count&&y(n,i[0].count)},i:q,o:q,d(i){i&&(f(t),f(e),f(l),f(n),f(r)),s=!1,Q(u)}}}function $t(o){let t,e,l,n,r,s,u;return{c(){t=C("The monster "),e=b("input"),l=C(` must be killed at
    least
    `),n=b("input"),r=C(" times"),this.h()},l(i){t=w(i,"The monster "),e=g(i,"INPUT",{}),l=w(i,` must be killed at
    least
    `),n=g(i,"INPUT",{type:!0,min:!0,step:!0}),r=w(i," times"),this.h()},h(){c(n,"type","number"),c(n,"min","1"),c(n,"step","1")},m(i,a){h(i,t,a),h(i,e,a),y(e,o[0].monsterID),h(i,l,a),h(i,n,a),y(n,o[0].count),h(i,r,a),s||(u=[A(e,"input",o[22]),A(n,"input",o[23])],s=!0)},p(i,a){a[0]&1&&e.value!==i[0].monsterID&&y(e,i[0].monsterID),a[0]&1&&F(n.value)!==i[0].count&&y(n,i[0].count)},i:q,o:q,d(i){i&&(f(t),f(e),f(l),f(n),f(r)),s=!1,Q(u)}}}function qt(o){let t,e,l,n,r,s,u,i;return{c(){t=C("The action "),e=b("input"),l=C(` in the skill
    `),n=b("input"),r=C(`
    must be at least mastery level
    `),s=b("input"),this.h()},l(a){t=w(a,"The action "),e=g(a,"INPUT",{}),l=w(a,` in the skill
    `),n=g(a,"INPUT",{list:!0}),r=w(a,`
    must be at least mastery level
    `),s=g(a,"INPUT",{type:!0,min:!0,step:!0}),this.h()},h(){c(n,"list","skillIDs"),c(s,"type","number"),c(s,"min","1"),c(s,"step","1")},m(a,p){h(a,t,p),h(a,e,p),y(e,o[0].actionID),h(a,l,p),h(a,n,p),y(n,o[0].skillID),h(a,r,p),h(a,s,p),y(s,o[0].level),u||(i=[A(e,"input",o[19]),A(n,"input",o[20]),A(s,"input",o[21])],u=!0)},p(a,p){p[0]&1&&e.value!==a[0].actionID&&y(e,a[0].actionID),p[0]&1&&n.value!==a[0].skillID&&y(n,a[0].skillID),p[0]&1&&F(s.value)!==a[0].level&&y(s,a[0].level)},i:q,o:q,d(a){a&&(f(t),f(e),f(l),f(n),f(r),f(s)),u=!1,Q(i)}}}function Et(o){let t,e,l,n,r;return{c(){t=C("The item "),e=b("input"),l=C(` must have been found at least
    once`)},l(s){t=w(s,"The item "),e=g(s,"INPUT",{}),l=w(s,` must have been found at least
    once`)},m(s,u){h(s,t,u),h(s,e,u),y(e,o[0].itemID),h(s,l,u),n||(r=A(e,"input",o[18]),n=!0)},p(s,u){u[0]&1&&e.value!==s[0].itemID&&y(e,s[0].itemID)},i:q,o:q,d(s){s&&(f(t),f(e),f(l)),n=!1,r()}}}function St(o){let t,e,l,n,r,s,u;return{c(){t=C("The dungeon "),e=b("input"),l=C(`
    must be cleared at least
    `),n=b("input"),r=C(" times"),this.h()},l(i){t=w(i,"The dungeon "),e=g(i,"INPUT",{list:!0}),l=w(i,`
    must be cleared at least
    `),n=g(i,"INPUT",{type:!0,min:!0,step:!0}),r=w(i," times"),this.h()},h(){c(e,"list","dungeonIDs"),c(n,"type","number"),c(n,"min","1"),c(n,"step","1")},m(i,a){h(i,t,a),h(i,e,a),y(e,o[0].dungeonID),h(i,l,a),h(i,n,a),y(n,o[0].count),h(i,r,a),s||(u=[A(e,"input",o[16]),A(n,"input",o[17])],s=!0)},p(i,a){a[0]&1&&e.value!==i[0].dungeonID&&y(e,i[0].dungeonID),a[0]&1&&F(n.value)!==i[0].count&&y(n,i[0].count)},i:q,o:q,d(i){i&&(f(t),f(e),f(l),f(n),f(r)),s=!1,Q(u)}}}function Ht(o){let t,e,l,n,r,s;return{c(){t=C("A minimum of "),e=b("input"),l=C(`
    percent completion must be achieved in the namespace
    `),n=b("input"),this.h()},l(u){t=w(u,"A minimum of "),e=g(u,"INPUT",{type:!0,min:!0,max:!0}),l=w(u,`
    percent completion must be achieved in the namespace
    `),n=g(u,"INPUT",{list:!0}),this.h()},h(){c(e,"type","number"),c(e,"min","0"),c(e,"max","100"),c(n,"list","namespaces")},m(u,i){h(u,t,i),h(u,e,i),y(e,o[0].percent),h(u,l,i),h(u,n,i),y(n,o[0].namespace),r||(s=[A(e,"input",o[14]),A(n,"input",o[15])],r=!0)},p(u,i){i[0]&1&&F(e.value)!==u[0].percent&&y(e,u[0].percent),i[0]&1&&n.value!==u[0].namespace&&y(n,u[0].namespace)},i:q,o:q,d(u){u&&(f(t),f(e),f(l),f(n)),r=!1,Q(s)}}}function Bt(o){let t,e,l,n,r,s,u,i;function a(m){o[12](m)}let p={};return o[0].poiIDs!==void 0&&(p.value=o[0].poiIDs),e=new Ve({props:p}),x.push(()=>de(e,"value",a)),{c(){t=C("The (comma seperated) points of interest "),G(e.$$.fragment),n=C(` must be discovered in the Cartography Map
    `),r=b("input"),this.h()},l(m){t=w(m,"The (comma seperated) points of interest "),z(e.$$.fragment,m),n=w(m,` must be discovered in the Cartography Map
    `),r=g(m,"INPUT",{list:!0}),this.h()},h(){c(r,"list","worldMapIDs")},m(m,D){h(m,t,D),K(e,m,D),h(m,n,D),h(m,r,D),y(r,o[0].worldMapID),s=!0,u||(i=A(r,"input",o[13]),u=!0)},p(m,D){const _={};!l&&D[0]&1&&(l=!0,_.value=m[0].poiIDs,_e(()=>l=!1)),e.$set(_),D[0]&1&&r.value!==m[0].worldMapID&&y(r,m[0].worldMapID)},i(m){s||(W(e.$$.fragment,m),s=!0)},o(m){X(e.$$.fragment,m),s=!1},d(m){m&&(f(t),f(n),f(r)),J(e,m),u=!1,i()}}}function Ot(o){let t,e,l,n,r,s;return{c(){t=C("A minimum of "),e=b("input"),l=C(`
    hexes must be fully surveyed in the Cartography Map
    `),n=b("input"),this.h()},l(u){t=w(u,"A minimum of "),e=g(u,"INPUT",{type:!0,min:!0,step:!0}),l=w(u,`
    hexes must be fully surveyed in the Cartography Map
    `),n=g(u,"INPUT",{list:!0}),this.h()},h(){c(e,"type","number"),c(e,"min","1"),c(e,"step","1"),c(n,"list","worldMapIDs")},m(u,i){h(u,t,i),h(u,e,i),y(e,o[0].count),h(u,l,i),h(u,n,i),y(n,o[0].worldMapID),r||(s=[A(e,"input",o[10]),A(n,"input",o[11])],r=!0)},p(u,i){i[0]&1&&F(e.value)!==u[0].count&&y(e,u[0].count),i[0]&1&&n.value!==u[0].worldMapID&&y(n,u[0].worldMapID)},i:q,o:q,d(u){u&&(f(t),f(e),f(l),f(n)),r=!1,Q(s)}}}function Rt(o){let t,e,l,n,r;return{c(){t=C("A minimum of "),e=b("input"),l=C(" items must be donated to the Archaeology Museum"),this.h()},l(s){t=w(s,"A minimum of "),e=g(s,"INPUT",{type:!0,min:!0,step:!0}),l=w(s," items must be donated to the Archaeology Museum"),this.h()},h(){c(e,"type","number"),c(e,"min","1"),c(e,"step","1")},m(s,u){h(s,t,u),h(s,e,u),y(e,o[0].count),h(s,l,u),n||(r=A(e,"input",o[9]),n=!0)},p(s,u){u[0]&1&&F(e.value)!==s[0].count&&y(e,s[0].count)},i:q,o:q,d(s){s&&(f(t),f(e),f(l)),n=!1,r()}}}function Ft(o){let t,e,l,n,r,s,u,i,a,p;function m(_){o[7](_)}let D={placeholder:"(Optional)"};return o[0].exceptions!==void 0&&(D.value=o[0].exceptions),n=new Ve({props:D}),x.push(()=>de(n,"value",m)),{c(){t=C("Every skill must be at least level "),e=b("input"),l=C(`
    except the (comma seperated) skills `),G(n.$$.fragment),s=C(`. This only includes skills under the namespace
    `),u=b("input"),this.h()},l(_){t=w(_,"Every skill must be at least level "),e=g(_,"INPUT",{type:!0,step:!0,min:!0}),l=w(_,`
    except the (comma seperated) skills `),z(n.$$.fragment,_),s=w(_,`. This only includes skills under the namespace
    `),u=g(_,"INPUT",{placeholder:!0}),this.h()},h(){c(e,"type","number"),c(e,"step","1"),c(e,"min","1"),c(u,"placeholder","(Optional)")},m(_,d){h(_,t,d),h(_,e,d),y(e,o[0].level),h(_,l,d),K(n,_,d),h(_,s,d),h(_,u,d),y(u,o[0].namespace),i=!0,a||(p=[A(e,"input",o[6]),A(u,"input",o[8])],a=!0)},p(_,d){d[0]&1&&F(e.value)!==_[0].level&&y(e,_[0].level);const v={};!r&&d[0]&1&&(r=!0,v.value=_[0].exceptions,_e(()=>r=!1)),n.$set(v),d[0]&1&&u.value!==_[0].namespace&&y(u,_[0].namespace)},i(_){i||(W(n.$$.fragment,_),i=!0)},o(_){X(n.$$.fragment,_),i=!1},d(_){_&&(f(t),f(e),f(l),f(s),f(u)),J(n,_),a=!1,Q(p)}}}function Vt(o){let t,e,l,n,r,s;return{c(){t=C("The skill "),e=b("input"),l=C(` must
    have at least abyssal level
    `),n=b("input"),this.h()},l(u){t=w(u,"The skill "),e=g(u,"INPUT",{list:!0}),l=w(u,` must
    have at least abyssal level
    `),n=g(u,"INPUT",{type:!0,step:!0,min:!0}),this.h()},h(){c(e,"list","skillIDs"),c(n,"type","number"),c(n,"step","1"),c(n,"min","1")},m(u,i){h(u,t,i),h(u,e,i),y(e,o[0].skillID),h(u,l,i),h(u,n,i),y(n,o[0].level),r||(s=[A(e,"input",o[4]),A(n,"input",o[5])],r=!0)},p(u,i){i[0]&1&&e.value!==u[0].skillID&&y(e,u[0].skillID),i[0]&1&&F(n.value)!==u[0].level&&y(n,u[0].level)},i:q,o:q,d(u){u&&(f(t),f(e),f(l),f(n)),r=!1,Q(s)}}}function Wt(o){let t,e,l,n,r,s,u;return{c(){t=C("The depth "),e=b("input"),l=C(` must
    be completed at least
    `),n=b("input"),r=C(" times"),this.h()},l(i){t=w(i,"The depth "),e=g(i,"INPUT",{list:!0}),l=w(i,` must
    be completed at least
    `),n=g(i,"INPUT",{type:!0,step:!0,min:!0}),r=w(i," times"),this.h()},h(){c(e,"list","abyssDepths"),c(n,"type","number"),c(n,"step","1"),c(n,"min","1")},m(i,a){h(i,t,a),h(i,e,a),y(e,o[0].depthID),h(i,l,a),h(i,n,a),y(n,o[0].count),h(i,r,a),s||(u=[A(e,"input",o[2]),A(n,"input",o[3])],s=!0)},p(i,a){a[0]&1&&e.value!==i[0].depthID&&y(e,i[0].depthID),a[0]&1&&F(n.value)!==i[0].count&&y(n,i[0].count)},i:q,o:q,d(i){i&&(f(t),f(e),f(l),f(n),f(r)),s=!1,Q(u)}}}function Xt(o){let t,e,l,n,r,s,u,i,a,p;const m=[Wt,Vt,Ft,Rt,Ot,Bt,Ht,St,Et,qt,$t,Ut,Lt,At,Pt,Mt,Nt,wt],D=[];function _(d,v){return d[0].type==="AbyssDepthCompletion"?0:d[0].type==="AbyssalLevel"?1:d[0].type==="AllSkillLevels"?2:d[0].type==="ArchaeologyItemsDonated"?3:d[0].type==="CartographyHexDiscovery"?4:d[0].type==="CartographyPOIDiscovery"?5:d[0].type==="Completion"?6:d[0].type==="DungeonCompletion"?7:d[0].type==="ItemFound"?8:d[0].type==="MasteryLevel"?9:d[0].type==="MonsterKilled"?10:d[0].type==="ShopPurchase"?11:d[0].type==="SkillLevel"?12:d[0].type==="SkillTreeNodeUnlocked"?13:d[0].type==="SlayerItem"?14:d[0].type==="SlayerTask"?15:d[0].type==="TownshipBuilding"?16:d[0].type==="TownshipTask"?17:-1}return~(e=_(o))&&(l=D[e]=m[e](o)),{c(){t=b("td"),l&&l.c(),n=O(),r=b("td"),s=b("input"),this.h()},l(d){t=g(d,"TD",{});var v=Y(t);l&&l.l(v),v.forEach(f),n=R(d),r=g(d,"TD",{});var I=Y(r);s=g(I,"INPUT",{type:!0,src:!0,alt:!0,class:!0}),I.forEach(f),this.h()},h(){c(s,"type","image"),Ae(s.src,u=ye+"/delete.png")||c(s,"src",u),c(s,"alt","A bin"),c(s,"class","svelte-1bafpi6")},m(d,v){h(d,t,v),~e&&D[e].m(t,null),h(d,n,v),h(d,r,v),M(r,s),i=!0,a||(p=A(s,"click",o[38]),a=!0)},p(d,v){let I=e;e=_(d),e===I?~e&&D[e].p(d,v):(l&&(Ne(),X(D[I],1,1,()=>{D[I]=null}),Me()),~e?(l=D[e],l?l.p(d,v):(l=D[e]=m[e](d),l.c()),W(l,1),l.m(t,null)):l=null)},i(d){i||(W(l),i=!0)},o(d){X(l),i=!1},d(d){d&&(f(t),f(n),f(r)),~e&&D[e].d(),a=!1,p()}}}function Yt(o,t,e){let{requirement:l}=t,{deleteButtonOnClick:n}=t;function r(){l.depthID=this.value,e(0,l)}function s(){l.count=F(this.value),e(0,l)}function u(){l.skillID=this.value,e(0,l)}function i(){l.level=F(this.value),e(0,l)}function a(){l.level=F(this.value),e(0,l)}function p(oe){o.$$.not_equal(l.exceptions,oe)&&(l.exceptions=oe,e(0,l))}function m(){l.namespace=this.value,e(0,l)}function D(){l.count=F(this.value),e(0,l)}function _(){l.count=F(this.value),e(0,l)}function d(){l.worldMapID=this.value,e(0,l)}function v(oe){o.$$.not_equal(l.poiIDs,oe)&&(l.poiIDs=oe,e(0,l))}function I(){l.worldMapID=this.value,e(0,l)}function $(){l.percent=F(this.value),e(0,l)}function U(){l.namespace=this.value,e(0,l)}function N(){l.dungeonID=this.value,e(0,l)}function E(){l.count=F(this.value),e(0,l)}function P(){l.itemID=this.value,e(0,l)}function k(){l.actionID=this.value,e(0,l)}function B(){l.skillID=this.value,e(0,l)}function L(){l.level=F(this.value),e(0,l)}function S(){l.monsterID=this.value,e(0,l)}function j(){l.count=F(this.value),e(0,l)}function V(){l.purchaseID=this.value,e(0,l)}function le(){l.count=F(this.value),e(0,l)}function ae(){l.skillID=this.value,e(0,l)}function ne(){l.level=F(this.value),e(0,l)}function me(){l.skillTreeID=this.value,e(0,l)}function re(){l.skillID=this.value,e(0,l)}function ce(){l.nodeID=this.value,e(0,l)}function ve(){l.itemID=this.value,e(0,l)}function Pe(){l.count=F(this.value),e(0,l)}function be(){l.category=this.value,e(0,l)}function T(){l.count=F(this.value),e(0,l)}function H(){l.buildingID=this.value,e(0,l)}function ge(){l.count=F(this.value),e(0,l)}function We(){l.realm=this.value,e(0,l)}const Xe=()=>n(l);return o.$$set=oe=>{"requirement"in oe&&e(0,l=oe.requirement),"deleteButtonOnClick"in oe&&e(1,n=oe.deleteButtonOnClick)},[l,n,r,s,u,i,a,p,m,D,_,d,v,I,$,U,N,E,P,k,B,L,S,j,V,le,ae,ne,me,re,ce,ve,Pe,be,T,H,ge,We,Xe]}class jt extends se{constructor(t){super(),ue(this,t,Yt,Xt,ie,{requirement:0,deleteButtonOnClick:1},null,[-1,-1])}}function Gt(o){let t,e,l,n;const r=o[5].default,s=De(r,o,o[4],null);return{c(){t=b("button"),s&&s.c(),this.h()},l(u){t=g(u,"BUTTON",{class:!0});var i=Y(t);s&&s.l(i),i.forEach(f),this.h()},h(){c(t,"class","svelte-14brqms")},m(u,i){h(u,t,i),s&&s.m(t,null),o[6](t),e=!0,l||(n=A(t,"click",Re(o[1])),l=!0)},p(u,[i]){s&&s.p&&(!e||i&16)&&Te(s,r,u,u[4],e?we(r,u[4],i,null):Ce(u[4]),null)},i(u){e||(W(s,u),e=!0)},o(u){X(s,u),e=!1},d(u){u&&f(t),s&&s.d(u),o[6](null),l=!1,n()}}}function zt(o,t,e){let{$$slots:l={},$$scope:n}=t,{textContext:r=""}=t,{value:s=r}=t;const u=je("dropdown");let i;function a(){u.setValue(s),u.setTextContext(r||(i.textContent??"")),u.onChange(s),u.hide()}function p(m){x[m?"unshift":"push"](()=>{i=m,e(0,i)})}return o.$$set=m=>{"textContext"in m&&e(2,r=m.textContext),"value"in m&&e(3,s=m.value),"$$scope"in m&&e(4,n=m.$$scope)},[i,a,r,s,n,l,p]}class Kt extends se{constructor(t){super(),ue(this,t,zt,Gt,ie,{textContext:2,value:3})}}function qe(o,t,e){const l=o.slice();return l[5]=t[e],l}function Ee(o,t,e){const l=o.slice();return l[5]=t[e],l}function Jt(o){let t=o[5]+"",e;return{c(){e=C(t)},l(l){e=w(l,t)},m(l,n){h(l,e,n)},p:q,d(l){l&&f(e)}}}function Se(o,t){let e,l,n;return l=new Kt({props:{value:t[5].replaceAll(" ",""),$$slots:{default:[Jt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){e=fe(),G(l.$$.fragment),this.h()},l(r){e=fe(),z(l.$$.fragment,r),this.h()},h(){this.first=e},m(r,s){h(r,e,s),K(l,r,s),n=!0},p(r,s){t=r;const u={};s&1024&&(u.$$scope={dirty:s,ctx:t}),l.$set(u)},i(r){n||(W(l.$$.fragment,r),n=!0)},o(r){X(l.$$.fragment,r),n=!1},d(r){r&&f(e),J(l,r)}}}function Qt(o){let t=[],e=new Map,l,n,r=ke(Be);const s=u=>u[5];for(let u=0;u<r.length;u+=1){let i=Ee(o,r,u),a=s(i);e.set(a,t[u]=Se(a,i))}return{c(){for(let u=0;u<t.length;u+=1)t[u].c();l=fe()},l(u){for(let i=0;i<t.length;i+=1)t[i].l(u);l=fe()},m(u,i){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(u,i);h(u,l,i),n=!0},p(u,i){i&0&&(r=ke(Be),Ne(),t=nt(t,i,s,1,u,r,e,l.parentNode,it,Se,l,Ee),Me())},i(u){if(!n){for(let i=0;i<r.length;i+=1)W(t[i]);n=!0}},o(u){for(let i=0;i<t.length;i+=1)X(t[i]);n=!1},d(u){u&&f(l);for(let i=0;i<t.length;i+=1)t[i].d(u)}}}function He(o){let t,e,l,n;const r=[{requirement:o[5],deleteButtonOnClick:o[3]}];let s={};for(let u=0;u<r.length;u+=1)s=Ge(s,r[u]);return e=new jt({props:s}),{c(){t=b("tr"),G(e.$$.fragment),l=O()},l(u){t=g(u,"TR",{});var i=Y(t);z(e.$$.fragment,i),l=R(i),i.forEach(f)},m(u,i){h(u,t,i),K(e,t,null),M(t,l),n=!0},p(u,i){const a=i&9?st(r,[{requirement:u[5],deleteButtonOnClick:u[3]}]):{};e.$set(a)},i(u){n||(W(e.$$.fragment,u),n=!0)},o(u){X(e.$$.fragment,u),n=!1},d(u){u&&f(t),J(e)}}}function Zt(o){let t,e,l="Add new Requirement:",n,r,s,u,i,a,p="Add!",m,D,_,d='<th class="svelte-1d4sy74">Requirement</th> <th class="svelte-1d4sy74">Actions</th>',v,I,$,U;function N(L){o[4](L)}let E={placeholder:"Select a requirement type",$$slots:{default:[Qt]},$$scope:{ctx:o}};o[1]!==void 0&&(E.value=o[1]),s=new Dt({props:E}),x.push(()=>de(s,"value",N));let P=ke(o[0]),k=[];for(let L=0;L<P.length;L+=1)k[L]=He(qe(o,P,L));const B=L=>X(k[L],1,1,()=>{k[L]=null});return{c(){t=b("div"),e=b("p"),e.textContent=l,n=O(),r=b("div"),G(s.$$.fragment),i=O(),a=b("button"),a.textContent=p,m=O(),D=b("table"),_=b("tr"),_.innerHTML=d,v=O();for(let L=0;L<k.length;L+=1)k[L].c();this.h()},l(L){t=g(L,"DIV",{class:!0});var S=Y(t);e=g(S,"P",{"data-svelte-h":!0}),Z(e)!=="svelte-1qdvj1w"&&(e.textContent=l),n=R(S),r=g(S,"DIV",{class:!0});var j=Y(r);z(s.$$.fragment,j),i=R(j),a=g(j,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1x9lfxa"&&(a.textContent=p),j.forEach(f),S.forEach(f),m=R(L),D=g(L,"TABLE",{class:!0});var V=Y(D);_=g(V,"TR",{"data-svelte-h":!0}),Z(_)!=="svelte-bjpgcw"&&(_.innerHTML=d),v=R(V);for(let le=0;le<k.length;le+=1)k[le].l(V);V.forEach(f),this.h()},h(){c(a,"class","svelte-1d4sy74"),c(r,"class","dropdown-container svelte-1d4sy74"),c(t,"class","new-requirement-container"),c(D,"class","svelte-1d4sy74")},m(L,S){h(L,t,S),M(t,e),M(t,n),M(t,r),K(s,r,null),M(r,i),M(r,a),h(L,m,S),h(L,D,S),M(D,_),M(D,v);for(let j=0;j<k.length;j+=1)k[j]&&k[j].m(D,null);I=!0,$||(U=A(a,"click",o[2]),$=!0)},p(L,[S]){const j={};if(S&1024&&(j.$$scope={dirty:S,ctx:L}),!u&&S&2&&(u=!0,j.value=L[1],_e(()=>u=!1)),s.$set(j),S&9){P=ke(L[0]);let V;for(V=0;V<P.length;V+=1){const le=qe(L,P,V);k[V]?(k[V].p(le,S),W(k[V],1)):(k[V]=He(le),k[V].c(),W(k[V],1),k[V].m(D,null))}for(Ne(),V=P.length;V<k.length;V+=1)B(V);Me()}},i(L){if(!I){W(s.$$.fragment,L);for(let S=0;S<P.length;S+=1)W(k[S]);I=!0}},o(L){X(s.$$.fragment,L),k=k.filter(Boolean);for(let S=0;S<k.length;S+=1)X(k[S]);I=!1},d(L){L&&(f(t),f(m),f(D)),J(s),Ke(k,L),$=!1,U()}}}const Be=["Abyss Depth Completion","All Skill Levels","Archaeology Items Donated","Cartography Hex Discovery","Cartography POI Discovery","Completion","Dungeon Completion","Item Found","Mastery Level","Monster Killed","Shop Purchase","Skill Level","Skill Tree Node Unlocked","Slayer Item","Slayer Task","Township Building","Township Task"];function xt(o,t,e){let{requirements:l=[]}=t,n="";function r(){const i=n;i!==""&&(l.push((()=>{switch(i){case"SkillLevel":return{type:i,skillID:"melvorD:Woodcutting",level:1};case"AllSkillLevels":return{type:i,level:1,namespace:"melvorTrue",exceptions:[]};case"DungeonCompletion":return{type:i,dungeonID:"melvorD:Chicken_Coop",count:1};case"Completion":return{type:i,percent:0,namespace:"melvorTrue"};case"ShopPurchase":return{type:i,purchaseID:"Extra_Bank_Slot",count:1};case"SlayerItem":return{type:i,itemID:"melvorD:Red_Party_Hat"};case"SlayerTask":return{type:i,category:"melvorF:Easy",count:1};case"ItemFound":return{type:i,itemID:"melvorD:Red_Party_Hat"};case"MonsterKilled":return{type:i,monsterID:"melvorD:Golbin",count:1};case"TownshipTask":return{type:i,realm:"melvorD:Melvor",count:1};case"TownshipBuilding":return{type:i,buildingID:"melvorF:Malcs_Cats",count:1};case"CartographyHexDiscovery":return{type:i,worldMapID:"melvorAoD:Lemvor",count:1};case"CartographyPOIDiscovery":return{type:i,worldMapID:"melvorAoD:Lemvor",poiIDs:[]};case"ArchaeologyItemsDonated":return{type:i,count:1};case"AbyssalLevel":return{type:i,skillID:"melvorD:Woodcutting",level:1};case"SkillTreeNodeUnlocked":return{type:i,skillID:"melvorD:Woodcutting",skillTreeID:"melvorItA:Abyssal",nodeID:"melvorItA:NodeA1"};case"AbyssDepthCompletion":return{type:i,depthID:"melvorItA:Depth1",count:1};case"MasteryLevel":return{type:i,skillID:"melvorD:Woodcutting",actionID:"melvorD:Normal",level:1}}})()),e(0,l))}function s(i){l.splice(l.indexOf(i),1),e(0,l)}function u(i){n=i,e(1,n)}return o.$$set=i=>{"requirements"in i&&e(0,l=i.requirements)},[l,n,r,s,u]}class el extends se{constructor(t){super(),ue(this,t,xt,Zt,ie,{requirements:0})}}function tl(o){let t,e="No hex selected!";return{c(){t=b("h3"),t.textContent=e,this.h()},l(l){t=g(l,"H3",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-vwwhwe"&&(t.textContent=e),this.h()},h(){c(t,"class","svelte-mg1ixn")},m(l,n){h(l,t,n)},p:q,i:q,o:q,d(l){l&&f(t)}}}function ll(o){let t,e,l=o[1].activeHex.x+"",n,r,s=o[1].activeHex.y+"",u,i,a,p,m="Max Survey Level:",D,_,d,v,I,$="Max Mastery Level:",U,N,E,P,k,B="Is water?",L,S,j,V,le="Requirements:",ae,ne,me,re,ce,ve;function Pe(T){o[6](T)}let be={};return o[0].requirements!==void 0&&(be.requirements=o[0].requirements),ne=new el({props:be}),x.push(()=>de(ne,"requirements",Pe)),{c(){t=b("h3"),e=C("Editing Hex: ("),n=C(l),r=C(", "),u=C(s),i=C(")"),a=O(),p=b("label"),p.textContent=m,D=O(),_=b("input"),v=O(),I=b("label"),I.textContent=$,U=O(),N=b("input"),P=O(),k=b("label"),k.textContent=B,L=O(),S=b("input"),j=O(),V=b("h4"),V.textContent=le,ae=O(),G(ne.$$.fragment),this.h()},l(T){t=g(T,"H3",{class:!0});var H=Y(t);e=w(H,"Editing Hex: ("),n=w(H,l),r=w(H,", "),u=w(H,s),i=w(H,")"),H.forEach(f),a=R(T),p=g(T,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(p)!=="svelte-1pt5r2w"&&(p.textContent=m),D=R(T),_=g(T,"INPUT",{type:!0,id:!0,min:!0,step:!0,max:!0,class:!0}),v=R(T),I=g(T,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(I)!=="svelte-et7l12"&&(I.textContent=$),U=R(T),N=g(T,"INPUT",{type:!0,id:!0,min:!0,step:!0,class:!0}),P=R(T),k=g(T,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(k)!=="svelte-1dbjb4j"&&(k.textContent=B),L=R(T),S=g(T,"INPUT",{type:!0,id:!0}),j=R(T),V=g(T,"H4",{"data-svelte-h":!0}),Z(V)!=="svelte-113q0es"&&(V.textContent=le),ae=R(T),z(ne.$$.fragment,T),this.h()},h(){c(t,"class","svelte-mg1ixn"),c(p,"for","maxSurveyLevel"),c(p,"class","svelte-mg1ixn"),c(_,"type","number"),c(_,"id","maxSurveyLevel"),c(_,"min","1"),c(_,"step","1"),c(_,"max",d=o[0].maxMasteryLevel),c(_,"class","svelte-mg1ixn"),c(I,"for","maxMasteryLevel"),c(I,"class","svelte-mg1ixn"),c(N,"type","number"),c(N,"id","maxMasteryLevel"),c(N,"min",E=o[0].maxSurveyLevel),c(N,"step","1"),c(N,"class","svelte-mg1ixn"),c(k,"for","isWater"),c(k,"class","svelte-mg1ixn"),c(S,"type","checkbox"),c(S,"id","isWater")},m(T,H){h(T,t,H),M(t,e),M(t,n),M(t,r),M(t,u),M(t,i),h(T,a,H),h(T,p,H),h(T,D,H),h(T,_,H),y(_,o[0].maxSurveyLevel),h(T,v,H),h(T,I,H),h(T,U,H),h(T,N,H),y(N,o[0].maxMasteryLevel),h(T,P,H),h(T,k,H),h(T,L,H),h(T,S,H),S.checked=o[0].isWater,h(T,j,H),h(T,V,H),h(T,ae,H),K(ne,T,H),re=!0,ce||(ve=[A(_,"input",o[3]),A(N,"input",o[4]),A(S,"change",o[5])],ce=!0)},p(T,H){(!re||H&2)&&l!==(l=T[1].activeHex.x+"")&&Ie(n,l),(!re||H&2)&&s!==(s=T[1].activeHex.y+"")&&Ie(u,s),(!re||H&1&&d!==(d=T[0].maxMasteryLevel))&&c(_,"max",d),H&1&&F(_.value)!==T[0].maxSurveyLevel&&y(_,T[0].maxSurveyLevel),(!re||H&1&&E!==(E=T[0].maxSurveyLevel))&&c(N,"min",E),H&1&&F(N.value)!==T[0].maxMasteryLevel&&y(N,T[0].maxMasteryLevel),H&1&&(S.checked=T[0].isWater);const ge={};!me&&H&1&&(me=!0,ge.requirements=T[0].requirements,_e(()=>me=!1)),ne.$set(ge)},i(T){re||(W(ne.$$.fragment,T),re=!0)},o(T){X(ne.$$.fragment,T),re=!1},d(T){T&&(f(t),f(a),f(p),f(D),f(_),f(v),f(I),f(U),f(N),f(P),f(k),f(L),f(S),f(j),f(V),f(ae)),J(ne,T),ce=!1,Q(ve)}}}function nl(o){let t,e,l,n;const r=[ll,tl],s=[];function u(i,a){return i[0]!==void 0?0:1}return t=u(o),e=s[t]=r[t](o),{c(){e.c(),l=fe()},l(i){e.l(i),l=fe()},m(i,a){s[t].m(i,a),h(i,l,a),n=!0},p(i,a){let p=t;t=u(i),t===p?s[t].p(i,a):(Ne(),X(s[p],1,1,()=>{s[p]=null}),Me(),e=s[t],e?e.p(i,a):(e=s[t]=r[t](i),e.c()),W(e,1),e.m(l.parentNode,l))},i(i){n||(W(e),n=!0)},o(i){X(e),n=!1},d(i){i&&f(l),s[t].d(i)}}}function il(o){let t,e;return t=new It({props:{imageSRC:ye+"/hex_grid.png",imageAltText:"A hex grid",$$slots:{default:[nl]},$$scope:{ctx:o}}}),{c(){G(t.$$.fragment)},l(l){z(t.$$.fragment,l)},m(l,n){K(t,l,n),e=!0},p(l,[n]){const r={};n&259&&(r.$$scope={dirty:n,ctx:l}),t.$set(r)},i(l){e||(W(t.$$.fragment,l),e=!0)},o(l){X(t.$$.fragment,l),e=!1},d(l){J(t,l)}}}function sl(o,t,e){let l,n;he(o,te,m=>e(7,n=m));const r=lt(te,m=>m.propertiesMenu.hexTab);he(o,r,m=>e(1,l=m));let s;r.subscribe(()=>{var m;e(0,s=(m=n.hexGridLayer.children.find(D=>D.coordinates.x===l.activeHex.x&&D.coordinates.y===l.activeHex.y))==null?void 0:m.hex)});function u(){s.maxSurveyLevel=F(this.value),e(0,s)}function i(){s.maxMasteryLevel=F(this.value),e(0,s)}function a(){s.isWater=this.checked,e(0,s)}function p(m){o.$$.not_equal(s.requirements,m)&&(s.requirements=m,e(0,s))}return[s,l,r,u,i,a,p]}class ul extends se{constructor(t){super(),ue(this,t,sl,il,ie,{})}}function rl(o){let t,e,l;return e=new ul({}),{c(){t=b("div"),G(e.$$.fragment),this.h()},l(n){t=g(n,"DIV",{class:!0});var r=Y(t);z(e.$$.fragment,r),r.forEach(f),this.h()},h(){c(t,"class","container svelte-1vp8siz"),ee(t,"hidden",o[0])},m(n,r){h(n,t,r),K(e,t,null),o[2](t),l=!0},p(n,[r]){(!l||r&1)&&ee(t,"hidden",n[0])},i(n){l||(W(e.$$.fragment,n),l=!0)},o(n){X(e.$$.fragment,n),l=!1},d(n){n&&f(t),J(e),o[2](null)}}}function ol(o,t,e){let{hidden:l=!1}=t,n;function r(s){x[s?"unshift":"push"](()=>{n=s,e(1,n)})}return o.$$set=s=>{"hidden"in s&&e(0,l=s.hidden)},[l,n,r]}class al extends se{constructor(t){super(),ue(this,t,ol,rl,ie,{hidden:0})}get hidden(){return this.$$.ctx[0]}set hidden(t){this.$$set({hidden:t}),ze()}}function pl(o){let t;return{c(){t=C("Upload Map Images")},l(e){t=w(e,"Upload Map Images")},m(e,l){h(e,t,l)},d(e){e&&f(t)}}}function fl(o){let t;return{c(){t=C("Hexes")},l(e){t=w(e,"Hexes")},m(e,l){h(e,t,l)},d(e){e&&f(t)}}}function ml(o){let t,e,l,n;return t=new $e({props:{imageSRC:ye+"/upload.png",imageAltText:"An upload icon",onClick:o[3],$$slots:{default:[pl]},$$scope:{ctx:o}}}),l=new $e({props:{imageSRC:ye+"/hex_grid.png",imageAltText:"A honeycomb",onClick:o[4],$$slots:{default:[fl]},$$scope:{ctx:o}}}),{c(){G(t.$$.fragment),e=O(),G(l.$$.fragment)},l(r){z(t.$$.fragment,r),e=R(r),z(l.$$.fragment,r)},m(r,s){K(t,r,s),h(r,e,s),K(l,r,s),n=!0},p(r,s){const u={};s&1&&(u.onClick=r[3]),s&128&&(u.$$scope={dirty:s,ctx:r}),t.$set(u);const i={};s&2&&(i.onClick=r[4]),s&128&&(i.$$scope={dirty:s,ctx:r}),l.$set(i)},i(r){n||(W(t.$$.fragment,r),W(l.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),X(l.$$.fragment,r),n=!1},d(r){r&&f(e),J(t,r),J(l,r)}}}function cl(o){let t,e,l,n,r,s,u,i,a,p,m;e=new Qe({props:{$$slots:{default:[ml]},$$scope:{ctx:o}}});let D={};n=new _t({props:D}),o[5](n);let _={};s=new at({props:_}),o[6](s);const d=o[2].default,v=De(d,o,o[7],null);return p=new al({}),{c(){t=b("div"),G(e.$$.fragment),l=O(),G(n.$$.fragment),r=O(),G(s.$$.fragment),u=O(),i=b("div"),v&&v.c(),a=O(),G(p.$$.fragment),this.h()},l(I){t=g(I,"DIV",{class:!0});var $=Y(t);z(e.$$.fragment,$),l=R($),z(n.$$.fragment,$),r=R($),z(s.$$.fragment,$),u=R($),i=g($,"DIV",{class:!0});var U=Y(i);v&&v.l(U),a=R(U),z(p.$$.fragment,U),U.forEach(f),$.forEach(f),this.h()},h(){c(i,"class","main svelte-piryt3"),c(t,"class","container svelte-piryt3")},m(I,$){h(I,t,$),K(e,t,null),M(t,l),K(n,t,null),M(t,r),K(s,t,null),M(t,u),M(t,i),v&&v.m(i,null),M(i,a),K(p,i,null),m=!0},p(I,[$]){const U={};$&131&&(U.$$scope={dirty:$,ctx:I}),e.$set(U);const N={};n.$set(N);const E={};s.$set(E),v&&v.p&&(!m||$&128)&&Te(v,d,I,I[7],m?we(d,I[7],$,null):Ce(I[7]),null)},i(I){m||(W(e.$$.fragment,I),W(n.$$.fragment,I),W(s.$$.fragment,I),W(v,I),W(p.$$.fragment,I),m=!0)},o(I){X(e.$$.fragment,I),X(n.$$.fragment,I),X(s.$$.fragment,I),X(v,I),X(p.$$.fragment,I),m=!1},d(I){I&&f(t),J(e),o[5](null),J(n),o[6](null),J(s),v&&v.d(I),J(p)}}}function hl(o,t,e){let{$$slots:l={},$$scope:n}=t,r,s;const u=()=>{var m;(m=r.exports.modal)==null||m.toggle()},i=()=>{var m;(m=s.exports.modal)==null||m.toggle()};function a(m){x[m?"unshift":"push"](()=>{r=m,e(0,r)})}function p(m){x[m?"unshift":"push"](()=>{s=m,e(1,s)})}return o.$$set=m=>{"$$scope"in m&&e(7,n=m.$$scope)},[r,s,l,u,i,a,p,n]}class Cl extends se{constructor(t){super(),ue(this,t,hl,cl,ie,{})}}export{Cl as component};
